<!doctype html><!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"><![endif]--><!--[if IE 7]><html class="no-js lt-ie9 lt-ie8"><![endif]--><!--[if IE 8]><html class="no-js lt-ie9"><![endif]--><!--[if gt IE 8]><!--><html class=no-js><!--<![endif]--><head><meta charset=utf-8><title>NST-T 2.0 Lab Build: Logical Router Configuration &#183; DefinIT</title><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content="bgp,lab,nsx,nsx-t,routing,tier 1,tier-0,"><meta property="og:title" content="NST-T 2.0 Lab Build: Logical Router Configuration  &#183; DefinIT "><meta property="og:site_name" content="DefinIT"><meta property="og:url" content="https://www.definit.co.uk/2017/12/nst-t-2-0-lab-build-logical-router-config/"><meta property="og:locale" content="en-gb"><meta property="og:type" content="article"><meta property="og:description" content><meta property="og:article:published_time" content="2017-12-19T14:48:29Z"><meta property="og:article:modified_time" content="2017-12-19T14:48:29Z"><meta property="og:article:tag" content="bgp"><meta property="og:article:tag" content="lab"><meta property="og:article:tag" content="nsx"><meta property="og:article:tag" content="nsx-t"><meta property="og:article:tag" content="routing"><meta property="og:article:tag" content="tier 1"><meta property="og:article:tag" content="tier-0"><meta name=twitter:card content="summary"><meta name=twitter:site content="@sammcgeown"><meta name=twitter:creator content="@sammcgeown"><meta name=twitter:title content="NST-T 2.0 Lab Build: Logical Router Configuration"><meta name=twitter:description content><meta name=twitter:url content="https://www.definit.co.uk/2017/12/nst-t-2-0-lab-build-logical-router-config/"><meta name=twitter:domain content="https://www.definit.co.uk/"><link rel=canonical href=https://www.definit.co.uk/2017/12/nst-t-2-0-lab-build-logical-router-config/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel="shortcut icon" href=/favicon.ico><meta name=msapplication-TileColor content="#da532c"><meta name=msapplication-config content="/browserconfig.xml"><meta name=theme-color content="#ffffff"><meta name=generator content="Hugo 0.152.2"><!--[if lt IE 9]><script src=https://oss.maxcdn.com/libs/html5shiv/3.7.2/html5shiv.js></script><script src=https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js></script><![endif]--><script src=/js/clr-icons.min.js></script><script src=/js/custom-elements.min.js></script><script src=/js/clr-toggle-darkmode.js></script><link id=dark-mode-css disabled href=/css/clr-ui-dark.min.css rel=stylesheet type=text/css as=style><link id=light-mode-css href=/css/clr-ui.min.css rel=stylesheet type=text/css as=style><link href=/css/clr-icons.min.css rel=stylesheet><link href=/css/definit-clarity.css rel=stylesheet><link href=/css/syntax-highlighting.css rel=stylesheet><link href=/css/lightbox.min.css rel=stylesheet></head><body id=body onload='setCurrentTheme("dark")'><clr-main-container class=main-container><header class=header-6><div class=branding><a class=logo-and-title href=/><img class=clr-header-logo alt src=/images/logos/definit-logo.png>
<span class=title>&nbsp;DefinIT</span></a></div><nav class=header-nav><a class="nav-link nav-text" href=https://www.definit.co.uk/ title=Home>Home
</a><a class="nav-link nav-text" href=https://www.definit.co.uk/about/ title=About>About
</a><a class="nav-link nav-text" href=https://www.github.com/sammcgeown title=GitHub>GitHub
</a><a class="nav-link nav-text" href=https://www.definit.co.uk/index.xml title=RSS>RSS</a></nav><div class=header-actions><form class=search id=search method=get action=//google.com/search><label for=search_input><input id=search_input type=text name=q placeholder="Search with Google">
<input type=hidden name=as_sitesearch value=https://www.definit.co.uk/></label></form><a class="nav-link nav-icon" aria-label=theme onclick=toggleThemeMode()><clr-icon shape=moon id=icon-theme-mode title="Toggle theme mode"></clr-icon></a></div></header><div class=content-container><div class=content-area><h1>NST-T 2.0 Lab Build: Logical Router Configuration</h1><div class=metas><span class=clr-card-authors><div class=clr-card-authors>Written by
<img src=/images/SamMcGeown2020.jpg alt class=img-author>
&lt;a class="" href="/category/sam-mcgeown">Sam McGeown&lt;/a></div><div class=clr-card-authors>Published on 19/12/2017 -
Read in about 6 min (1189 words)</div><div class=clr-card-authors>Published under
&lt;a class="" href="/category/networking">Networking&lt;/a>, &lt;a class="" href="/category/nsx">NSX&lt;/a> and &lt;a class="" href="/category/vsphere">vSphere&lt;/a>
<a class=clr-tags href=https://www.definit.co.uk/tag/bgp>#bgp</a>
<a class=clr-tags href=https://www.definit.co.uk/tag/lab>#lab</a>
<a class=clr-tags href=https://www.definit.co.uk/tag/nsx>#nsx</a>
<a class=clr-tags href=https://www.definit.co.uk/tag/nsx-t>#nsx-t</a>
<a class=clr-tags href=https://www.definit.co.uk/tag/routing>#routing</a>
<a class=clr-tags href=https://www.definit.co.uk/tag/tier-1>#tier 1</a>
<a class=clr-tags href=https://www.definit.co.uk/tag/tier-0>#tier-0</a></div></span></div><br clear=all><div class="alert alert-info" role=alert><div class=alert-items><div class="alert-item static"><div class=alert-icon-wrapper><clr-icon class=alert-icon shape=info-circle></clr-icon></div><span class=alert-text>This post is part of the <a href=https://www.definit.co.uk//series/nsx-t-2-0-lab-build/>NSX-T 2 0 Lab Build</a> series.</span><div class=alert-actions><ol><li><a href=https://www.definit.co.uk/2017/12/nsx-t-2-0-lab-build-upgrading-to-nsx-t-2-1/>NSX-T 2.0 Lab Build: Upgrading to NSX-T 2.1</a></li><li>NST-T 2.0 Lab Build: Logical Router Configuration</li><li><a href=https://www.definit.co.uk/2017/10/nsx-t-2-0-lab-build-transport-zones-and-transport-nodes/>NSX-T 2.0 Lab Build: Transport Zones and Transport Nodes</a></li><li><a href=https://www.definit.co.uk/2017/10/nsx-t-2-0-lab-build-edge-installation/>NSX-T 2.0 Lab Build: Edge Installation</a></li><li><a href=https://www.definit.co.uk/2017/10/nsx-t-2-0-lab-build-adding-a-vcenter-compute-manager-and-preparing-hosts/>NSX-T 2.0 Lab Build: Adding a vCenter Compute Manager and Preparing Hosts</a></li><li><a href=https://www.definit.co.uk/2017/09/nsx-t-2-0-lab-build-esxi-host-preparation/>NSX-T 2.0 Lab Build: ESXi Host Preparation</a></li><li><a href=https://www.definit.co.uk/2017/09/nsx-t-2-0-lab-build-deploying-controller-cluster/>NSX-T 2.0 Lab Build: Deploying Controller Cluster</a></li><li><a href=https://www.definit.co.uk/2017/09/nsx-t-2-0-lab-build-deploying-nsx-manager/>NSX-T 2.0 Lab Build: Deploying NSX Manager</a></li></ol></div></div></div></div><div class="alert alert-danger" role=alert><div class=alert-items><div class="alert-item static"><div class=alert-icon-wrapper><clr-icon class=alert-icon shape=warning-standard></clr-icon></div><span class=alert-text>This article is now 8 years old! It is highly likely that this information is out of date and the author will have completely forgotten about it. Please take care when following any guidance to ensure you have up-to-date recommendations.</span></div></div></div><p><em><strong>Disclaimer! I am learning NSX-T, part of my learning is to deploy in my lab - if I contradict the official docs then go with the docs!</strong></em></p><h2 id=lab-environment>Lab Environment <a class=anchor href=#lab-environment><i class="fas fa-hashtag"></i></a></h2><p>This NSX-T lab environment is built as a nested lab on my physical hosts. There are four physical ESXi hosts, onto which I will deploy three ESXi VMs, a vCenter Server Appliance, NSX Manager, an NSX Controller cluster, and two NSX Edge Nodes.</p><h2 id=deployment-plan>Deployment Plan <a class=anchor href=#deployment-plan><i class="fas fa-hashtag"></i></a></h2><p>I will follow the <a href=https://docs.vmware.com/en/VMware-NSX-T/2.0/com.vmware.nsxt.install.doc/GUID-414C33B3-674F-44E0-94B8-BFC0B9056B33.html>deployment plan from the NSX-T 2.0 documentation</a>:</p><ul><li>Install NSX Manager.</li><li>Install NSX Controllers.<ul><li>Join NSX Controllers with the management plane.</li><li>Initialize the control cluster to create a master controller.</li><li>Join NSX Controllers into a control cluster.</li></ul></li><li>Join hypervisor hosts with the management plane.</li><li>Install NSX Edges.<ul><li>Join NSX Edges with the management plane.</li></ul></li><li>Create transport zones and transport nodes.</li><li><strong>Configure Logical Routing and BGP</strong></li></ul><p>When this post series is complete, the network topology should be something like this, with two hostswitches configured. The ESXi Hosts will have a Tunnel Endpoint IP address, as will the Edge. The Edge will also have an interface configured for a VLAN uplink.</p><p>In this post I will walk through configuring VLAN Logical Switch, Tier-0 Router, Tier-1 Router, Uplink Profiles and BGP dynamic routing to the physical router.</p><h2 id=create-vlan-logical-switch>Create VLAN Logical Switch <a class=anchor href=#create-vlan-logical-switch><i class="fas fa-hashtag"></i></a></h2><p>Create a VLAN backed logical switch for the tier-0 router uplink using the Switching > Switches page and enter a name and description. Select the VLAN-backed transport zone created earlier and enter the VLAN number that you want to use to uplink to the physical routers(I am using VLAN 0 because my Edges have NICs connected to a vSphere Port Group that is tagging VLAN 201 - nested can get confusing sometimes!)</p><p><img src=https://www.definit.co.uk/images/2017/10/2017-10-31_14-51-29.png alt></p><h2 id=create-a-tier-0-logical-router>Create a Tier-0 Logical Router <a class=anchor href=#create-a-tier-0-logical-router><i class="fas fa-hashtag"></i></a></h2><p>Logical routers are created from the Routing > Routers page, when you click ADD you get the option of a Tier-0 or a Tier-1 router. To start with I am creating the Tier-0 router</p><p><img src=https://www.definit.co.uk/images/2017/10/2017-10-24_14-49-58-e1509461935999.png alt></p><p>Enter a name and description for the Tier-0 router, then select the Edge Cluster that will host it (this is why you must create an Edge Cluster configuration, even if you only have one Edge Node). Select the High Availability mode:</p><blockquote><p>By default, the active-active mode is used. In the active-active mode, traffic is load balanced across all members. In active-standby mode, all traffic is processed by an elected active member. If the active member fails, a new member is elected to be active.</p></blockquote><p>Click SAVE to complete the Tier-0 Router creation</p><p><img src=https://www.definit.co.uk/images/2017/10/2017-10-24_14-50-23.png alt></p><h2 id=create-nsx-edge-uplink>Create NSX Edge Uplink <a class=anchor href=#create-nsx-edge-uplink><i class="fas fa-hashtag"></i></a></h2><p>To allow traffic to flow in and out of the NSX environment, I need to connect the Tier-0 Logical Router to a VLAN Logical Switch (created earlier). This is done from the Routing > Routers page by selecting the desired Logical Router, then using the Configuration menu and selecting Router Ports.</p><p><img src=https://www.definit.co.uk/images/2017/10/2017-10-24_15-13-37-e1509462915384.png alt></p><p>From the Logical Router Ports page, click +ADD</p><p><img src=https://www.definit.co.uk/images/2017/10/2017-10-24_15-14-59.png alt></p><p>Enter a name and description for the new Router Port. Select the type (uplink here, as I&rsquo;m creating the uplink to my physical network). Select the first Edge in the Transport Node drop down, then the VLAN backed logical switch created previously. As this is the first switch port on the logical switch, select Attach to a new switch port, then enter a sensible name for the switch port. Finally, enter the IP address and mask for the uplink - this should be in the same subnet as the physical network it&rsquo;s connecting to.</p><p><img src=https://www.definit.co.uk/images/2017/10/2017-10-24_15-17-15.png alt></p><p>Validate the interface configuration by connecting to the Edge Node via SSH and using &ldquo;get logical-routers&rdquo;, identifying the tier-0 router vrf, then &ldquo;vrf 1&rdquo;, then get interfaces.</p><p><img src=https://www.definit.co.uk/images/2017/10/2017-10-24_16-22-34.png alt></p><p>&ldquo;get route&rdquo; will show the connected network, and you should be able to ping the gateway to confirm connectivity.</p><p><img src=https://www.definit.co.uk/images/2017/10/2017-10-24_16-25-34.png alt></p><h2 id=configure-a-tier-1-logical-router>Configure a Tier-1 Logical Router <a class=anchor href=#configure-a-tier-1-logical-router><i class="fas fa-hashtag"></i></a></h2><p>From the Routing > Routers page, add a new Tier-1 router. Configure a name (remember you can have multiple tier-1 routers connected to a tier-0, so you might need to consider that when naming), description and the tier-0 router to uplink to. The failover mode can be configured preemptive or non-preemptive:</p><blockquote><p>Preemptive - If the preferred node fails and recovers, it will preempt its peer and become the active node. The peer will change its state to standby. This is the default option.</p><p>Non-preemptive - If the preferred node fails and recovers, it will check if its peer is the active node. If so, the preferred node will not preempt its peer and will be the standby node.</p></blockquote><p>If you&rsquo;re configuring stateful services (e.g. NAT) then you also need to configure which Edge Cluster the Tier-1 router will be connected to. At this point I don&rsquo;t want to configure NAT, so I&rsquo;ll leave it blank for now and come back to it when I configure NAT.</p><p><img src=https://www.definit.co.uk/images/2017/10/2017-10-24_16-39-54.png alt></p><p>Once created, you can validate the Tier-1 router has been connected to the Tier-0 router by selecting it in the console, then selecting Configuration > Router Ports. A new Linked Port will have been created, auto-addressed, and connected to the Tier-0 router.</p><p><img src=https://www.definit.co.uk/images/2017/10/2017-10-24_16-49-42.png alt></p><p>So that we have something to advertise through BGP, I&rsquo;ve created 3 logical switches and attached them to the Tier-1 router:</p><p><img src=https://www.definit.co.uk/images/2017/10/2017-10-24_16-58-44.png alt></p><p>Finally, on the Tier-1 router I need to advertise the connected networks up to the Tier-0 router. Edit the Route Advertisement under the Routing tab on the Tier-1 router configuration.</p><p><img src=https://www.definit.co.uk/images/2017/10/2017-10-24_16-59-30.png alt></p><p><img src=https://www.definit.co.uk/images/2017/10/2017-10-24_17-01-08.png alt></p><p>You can validate that the routes are being distributed to the Tier-0 router from the Tier-1 router by SSHing to the Edge Node and running &ldquo;get logical-router&rdquo;. Identify the Tier-0 Service Router UUID and run &ldquo;get logical-router route static&rdquo;</p><p><img src=https://www.definit.co.uk/images/2017/10/2017-10-31_15-26-48.png alt></p><h2 id=configure-bgp-on-the-tier-0-router>Configure BGP on the Tier-0 Router <a class=anchor href=#configure-bgp-on-the-tier-0-router><i class="fas fa-hashtag"></i></a></h2><p>From the Routing > Routers  page, select the Tier-0 router and then select BGP from the Routing menu</p><p><img src=https://www.definit.co.uk/images/2017/12/2017-12-19_11-00-10.png alt></p><p>Add a new BGP neighbour and configure to peer with the physical router (which should be on the same subnet as the Tier-0 router).</p><p>Note: <em>In my lab I&rsquo;ve modified the VLAN logical switch uplink on the Edge cluster to sit on the same VLAN as a physical router device, which is on the 192.168.100.0/24 network. The Tier-0 router is now 192.168.100.15.</em></p><p>Enter the Neighbo(u)r IP address, the Remote AS of the physical router, and make sure the Keep Alive and Hold Down times match.</p><p><img src=https://www.definit.co.uk/images/2017/12/2017-12-19_11-04-59.png alt></p><p>Although not strictly required, it&rsquo;s also good to specify the local address this peering will communicate on. If, for example, you will configure ECMP at a later point, you will want to configure this. Uncheck the &ldquo;All Uplinks&rdquo; box and select the correct Uplink.</p><p><img src=https://www.definit.co.uk/images/2017/12/2017-12-19_11-05-36.png alt></p><p>Edit the global BGP Configuration and enable BGP.</p><p><img src=https://www.definit.co.uk/images/2017/12/2017-12-19_11-16-41.png alt></p><p>We can now validate the BGP neighbour and check that the routes are populated on the physical router.</p><p>SSH to the Edge Transport node and use &ldquo;get logical-router&rdquo; to list the logical routers. Identify the Tier-0 service router VRF and enter the VRF context using &ldquo;vrf &rdquo;. Finally, use &ldquo;get bgp neighbor&rdquo; to validate the neighbour relationship.</p><p><img src=https://www.definit.co.uk/images/2017/12/2017-12-19_11-27-07.png alt></p><p>To validate the route tables are updated, use &ldquo;get route bgp&rdquo; on the Tier-0 service router VRF, and the equivelant on the physical router. Below you can see the learned BGP routes on my lab EdgeRouter X, which correspond to the networks created on my Tier-1 router.</p><p><img src=https://www.definit.co.uk/images/2017/12/2017-12-19_11-32-42.png alt></p><h6>Share this post</h6><span class=share-box><a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.definit.co.uk%2f2017%2f12%2fnst-t-2-0-lab-build-logical-router-config%2f" onclick='return window.open(this.href,"mywin","left=20,top=20,width=500,height=500,toolbar=1,resizable=0"),!1'><i class="fa fa-facebook-official"></i></a>
<a href="https://twitter.com/intent/tweet?text=NST-T%202.0%20Lab%20Build%3a%20Logical%20Router%20Configuration&amp;url=https%3a%2f%2fwww.definit.co.uk%2f2017%2f12%2fnst-t-2-0-lab-build-logical-router-config%2f" onclick='return window.open(this.href,"mywin","left=20,top=20,width=500,height=500,toolbar=1,resizable=0"),!1'><i class="fa fa-twitter"></i></a>
<a href="https://plus.google.com/share?url=https%3a%2f%2fwww.definit.co.uk%2f2017%2f12%2fnst-t-2-0-lab-build-logical-router-config%2f" onclick='return window.open(this.href,"mywin","left=20,top=20,width=500,height=500,toolbar=1,resizable=0"),!1'><i class="fa fa-google-plus"></i></a>
<a href="http://www.reddit.com/submit?url=https%3a%2f%2fwww.definit.co.uk%2f2017%2f12%2fnst-t-2-0-lab-build-logical-router-config%2f" onclick='return window.open(this.href,"mywin","left=20,top=20,width=900,height=500,toolbar=1,resizable=0"),!1'><i class="fa fa-reddit"></i></a>
<a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fwww.definit.co.uk%2f2017%2f12%2fnst-t-2-0-lab-build-logical-router-config%2f&amp;title=NST-T%202.0%20Lab%20Build%3a%20Logical%20Router%20Configuration" onclick='return window.open(this.href,"mywin","left=20,top=20,width=500,height=500,toolbar=1,resizable=0"),!1'><i class="fa fa-linkedin"></i></a>
<a href="mailto:?subject=NST-T%202.0%20Lab%20Build%3a%20Logical%20Router%20Configuration&amp;body=Check out this site https%3a%2f%2fwww.definit.co.uk%2f2017%2f12%2fnst-t-2-0-lab-build-logical-router-config%2f" data-proofer-ignore><i class="fa fa-envelope"></i></a>
</span><a class=resp-sharing-button__link href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.definit.co.uk%2f2017%2f12%2fnst-t-2-0-lab-build-logical-router-config%2f" target=_blank rel=noopener aria-label><div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg viewBox="0 0 24 24"><path d="M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://twitter.com/intent/tweet/?text=NST-T%202.0%20Lab%20Build%3a%20Logical%20Router%20Configuration&amp;url=https%3a%2f%2fwww.definit.co.uk%2f2017%2f12%2fnst-t-2-0-lab-build-logical-router-config%2f" target=_blank rel=noopener aria-label><div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg viewBox="0 0 24 24"><path d="M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5.0-4.55 2.04-4.55 4.54.0.36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3.0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35.0 12.92-6.92 12.92-12.93.0-.2.0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://www.tumblr.com/widgets/share/tool?posttype=link&amp;title=NST-T%202.0%20Lab%20Build%3a%20Logical%20Router%20Configuration&amp;caption=NST-T%202.0%20Lab%20Build%3a%20Logical%20Router%20Configuration&amp;content=https%3a%2f%2fwww.definit.co.uk%2f2017%2f12%2fnst-t-2-0-lab-build-logical-router-config%2f&amp;canonicalUrl=https%3a%2f%2fwww.definit.co.uk%2f2017%2f12%2fnst-t-2-0-lab-build-logical-router-config%2f&amp;shareSource=tumblr_share_button" target=_blank rel=noopener aria-label><div class="resp-sharing-button resp-sharing-button--tumblr resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg viewBox="0 0 24 24"><path d="M13.5.5v5h5v4h-5V15c0 5 3.5 4.4 6 2.8v4.4c-6.7 3.2-12 0-12-4.2V9.5h-3V6.7c1-.3 2.2-.7 3-1.3.5-.5 1-1.2 1.4-2 .3-.7.6-1.7.7-3h3.8z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fwww.definit.co.uk%2f2017%2f12%2fnst-t-2-0-lab-build-logical-router-config%2f&amp;title=NST-T%202.0%20Lab%20Build%3a%20Logical%20Router%20Configuration&amp;summary=NST-T%202.0%20Lab%20Build%3a%20Logical%20Router%20Configuration&amp;source=https%3a%2f%2fwww.definit.co.uk%2f2017%2f12%2fnst-t-2-0-lab-build-logical-router-config%2f" target=_blank rel=noopener aria-label><div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg viewBox="0 0 24 24"><path d="M6.5 21.5h-5v-13h5v13zM4 6.5C2.5 6.5 1.5 5.3 1.5 4s1-2.4 2.5-2.4c1.6.0 2.5 1 2.6 2.5.0 1.4-1 2.5-2.6 2.5zm11.5 6c-1 0-2 1-2 2v7h-5v-13h5V10s1.6-1.5 4-1.5c3 0 5 2.2 5 6.3v6.7h-5v-7c0-1-1-2-2-2z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://reddit.com/submit/?url=https%3a%2f%2fwww.definit.co.uk%2f2017%2f12%2fnst-t-2-0-lab-build-logical-router-config%2f&amp;resubmit=true&amp;title=NST-T%202.0%20Lab%20Build%3a%20Logical%20Router%20Configuration" target=_blank rel=noopener aria-label><div class="resp-sharing-button resp-sharing-button--reddit resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg viewBox="0 0 24 24"><path d="M24 11.5c0-1.65-1.35-3-3-3-.96.0-1.86.48-2.42 1.24-1.64-1-3.75-1.64-6.07-1.72.08-1.1.4-3.05 1.52-3.7.72-.4 1.73-.24 3 .5C17.2 6.3 18.46 7.5 20 7.5c1.65.0 3-1.35 3-3s-1.35-3-3-3c-1.38.0-2.54.94-2.88 2.22-1.43-.72-2.64-.8-3.6-.25-1.64.94-1.95 3.47-2 4.55-2.33.08-4.45.7-6.1 1.72C4.86 8.98 3.96 8.5 3 8.5c-1.65.0-3 1.35-3 3 0 1.32.84 2.44 2.05 2.84-.03.22-.05.44-.05.66.0 3.86 4.5 7 10 7s10-3.14 10-7c0-.22-.02-.44-.05-.66 1.2-.4 2.05-1.54 2.05-2.84zM2.3 13.37C1.5 13.07 1 12.35 1 11.5c0-1.1.9-2 2-2 .64.0 1.22.32 1.6.82-1.1.85-1.92 1.9-2.3 3.05zm3.7.13c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm9.8 4.8c-1.08.63-2.42.96-3.8.96-1.4.0-2.74-.34-3.8-.95-.24-.13-.32-.44-.2-.68.15-.24.46-.32.7-.18 1.83 1.06 4.76 1.06 6.6.0.23-.13.53-.05.67.2.14.23.06.54-.18.67zm.2-2.8c-1.1.0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm5.7-2.13c-.38-1.16-1.2-2.2-2.3-3.05.38-.5.97-.82 1.6-.82 1.1.0 2 .9 2 2 0 .84-.53 1.57-1.3 1.87z"/></svg></div></div></a><a class=resp-sharing-button__link href="mailto:?subject=NST-T%202.0%20Lab%20Build%3a%20Logical%20Router%20Configuration&amp;body=https%3a%2f%2fwww.definit.co.uk%2f2017%2f12%2fnst-t-2-0-lab-build-logical-router-config%2f" target=_self rel=noopener aria-label><div class="resp-sharing-button resp-sharing-button--email resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg viewBox="0 0 24 24"><path d="M22 4H2C.9 4 0 4.9.0 6v12c0 1.1.9 2 2 2h20c1.1.0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7.25 14.43l-3.5 2c-.08.05-.17.07-.25.07-.17.0-.34-.1-.43-.25-.14-.24-.06-.55.18-.68l3.5-2c.24-.14.55-.06.68.18.14.24.06.55-.18.68zm4.75.07c-.1.0-.2-.03-.27-.08l-8.5-5.5c-.23-.15-.3-.46-.15-.7.15-.22.46-.3.7-.14L12 13.4l8.23-5.32c.23-.15.54-.08.7.15.14.23.07.54-.16.7l-8.5 5.5c-.08.04-.17.07-.27.07zm8.93 1.75c-.1.16-.26.25-.43.25-.08.0-.17-.02-.25-.07l-3.5-2c-.24-.13-.32-.44-.18-.68s.44-.32.68-.18l3.5 2c.24.13.32.44.18.68z"/></svg></div></div></a><a class=resp-sharing-button__link href="whatsapp://send?text=NST-T%202.0%20Lab%20Build%3a%20Logical%20Router%20Configuration%20https%3a%2f%2fwww.definit.co.uk%2f2017%2f12%2fnst-t-2-0-lab-build-logical-router-config%2f" target=_blank rel=noopener aria-label><div class="resp-sharing-button resp-sharing-button--whatsapp resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg viewBox="0 0 24 24"><path d="M20.1 3.9C17.9 1.7 15 .5 12 .5 5.8.5.7 5.6.7 11.9c0 2 .5 3.9 1.5 5.6L.6 23.4l6-1.6c1.6.9 3.5 1.3 5.4 1.3 6.3.0 11.4-5.1 11.4-11.4-.1-2.8-1.2-5.7-3.3-7.8zM12 21.4c-1.7.0-3.3-.5-4.8-1.3l-.4-.2-3.5 1 1-3.4L4 17c-1-1.5-1.4-3.2-1.4-5.1.0-5.2 4.2-9.4 9.4-9.4 2.5.0 4.9 1 6.7 2.8s2.8 4.2 2.8 6.7c-.1 5.2-4.3 9.4-9.5 9.4zm5.1-7.1c-.3-.1-1.7-.9-1.9-1-.3-.1-.5-.1-.7.1-.2.3-.8 1-.9 1.1-.2.2-.3.2-.6.1s-1.2-.5-2.3-1.4c-.9-.8-1.4-1.7-1.6-2s0-.5.1-.6.3-.3.4-.5c.2-.1.3-.3.4-.5s0-.4.0-.5C10 9 9.3 7.6 9 7c-.1-.4-.4-.3-.5-.3h-.6s-.4.1-.7.3c-.3.3-1 1-1 2.4s1 2.8 1.1 3c.1.2 2 3.1 4.9 4.3.7.3 1.2.5 1.6.6.7.2 1.3.2 1.8.1.6-.1 1.7-.7 1.9-1.3.2-.7.2-1.2.2-1.3-.1-.3-.3-.4-.6-.5z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://telegram.me/share/url?text=NST-T%202.0%20Lab%20Build%3a%20Logical%20Router%20Configuration&amp;url=https%3a%2f%2fwww.definit.co.uk%2f2017%2f12%2fnst-t-2-0-lab-build-logical-router-config%2f" target=_blank rel=noopener aria-label><div class="resp-sharing-button resp-sharing-button--telegram resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg viewBox="0 0 24 24"><path d="M.707 8.475C.275 8.64.0 9.508.0 9.508s.284.867.718 1.03l5.09 1.897 1.986 6.38a1.102 1.102.0 001.75.527l2.96-2.41a.405.405.0 01.494-.013l5.34 3.87a1.1 1.1.0 001.046.135 1.1 1.1.0 00.682-.803l3.91-18.795A1.102 1.102.0 0022.5.075L.706 8.475z"/></svg></div></div></a><div class="clarity-prev-next col-xs-12 col-sm-12 col-md-12 col-lg-12"><nav class=clarity-page-prev-next><div class=clr-nav-previous><a href=https://www.definit.co.uk/2017/12/one-node-vsan-lab-host/ title="One Node vSAN Lab Host" class="btn btn-sm btn-outline">Previous</a></div><div class=clr-nav-next><a href=https://www.definit.co.uk/2017/12/nsx-t-2-0-lab-build-upgrading-to-nsx-t-2-1/ title="NSX-T 2.0 Lab Build: Upgrading to NSX-T 2.1" class="btn btn-sm btn-outline">Next</a></div></nav></div></div><clr-vertical-nav class="clr-vertical-nav has-nav-groups"><div class=nav-content><section class=sidenav-content><clr-vertical-nav-group class=nav-group><div class=nav-group-content><button type=button class=nav-group-trigger aria-expanded=false aria-label="Toggle vertical navigation group" onclick='toggleNavigation("categories")'><div class=nav-group-text>Categories</div><clr-icon shape=angle class=nav-group-trigger-icon id=icon-categories dir=down title=Collapse></clr-icon></button></div><div id=section-categories class=nav-group-children><clr-vertical-nav-group-children><a class=nav-link href=https://www.definit.co.uk/category/career/><span class=nav-text>career <span class="badge badge-1">27</span></span>
</a><a class=nav-link href=https://www.definit.co.uk/category/certifications/><span class=nav-text>certifications <span class="badge badge-1">1</span></span>
</a><a class=nav-link href=https://www.definit.co.uk/category/cloud-native/><span class=nav-text>cloud-native <span class="badge badge-1">17</span></span>
</a><a class=nav-link href=https://www.definit.co.uk/category/community/><span class=nav-text>community <span class="badge badge-1">45</span></span>
</a><a class=nav-link href=https://www.definit.co.uk/category/microsoft/><span class=nav-text>microsoft <span class="badge badge-1">60</span></span>
</a><a class=nav-link href=https://www.definit.co.uk/category/networking/><span class=nav-text>networking <span class="badge badge-1">29</span></span>
</a><a class=nav-link href=https://www.definit.co.uk/category/nsx/><span class=nav-text>nsx <span class="badge badge-1">16</span></span>
</a><a class=nav-link href=https://www.definit.co.uk/category/terraform/><span class=nav-text>terraform <span class="badge badge-1">1</span></span>
</a><a class=nav-link href=https://www.definit.co.uk/category/vcf/><span class=nav-text>vcf <span class="badge badge-1">2</span></span>
</a><a class=nav-link href=https://www.definit.co.uk/category/vmware/><span class=nav-text>vmware <span class="badge badge-1">206</span></span>
</a><a class=nav-link href=https://www.definit.co.uk/category/vmware-aria/><span class=nav-text>vmware aria <span class="badge badge-1">1</span></span>
</a><a class=nav-link href=https://www.definit.co.uk/category/vmware-multi-cloud/><span class=nav-text>vmware multi-cloud <span class="badge badge-1">1</span></span>
</a><a class=nav-link href=https://www.definit.co.uk/category/vrealize-automation/><span class=nav-text>vrealize automation <span class="badge badge-1">40</span></span>
</a><a class=nav-link href=https://www.definit.co.uk/category/vrealize-operations/><span class=nav-text>vrealize operations <span class="badge badge-1">71</span></span>
</a><a class=nav-link href=https://www.definit.co.uk/category/vrealize-orchestrator/><span class=nav-text>vrealize orchestrator <span class="badge badge-1">23</span></span>
</a><a class=nav-link href=https://www.definit.co.uk/category/vsphere/><span class=nav-text>vsphere <span class="badge badge-1">56</span></span></a></clr-vertical-nav-group-children></div></clr-vertical-nav-group><div class=nav-divider></div><clr-vertical-nav-group class=nav-group><div class=nav-group-content><button type=button class=nav-group-trigger aria-expanded=false aria-label="Toggle vertical navigation group" onclick='toggleNavigation("tags")'><div class=nav-group-text>Tags (Top 10)</div><clr-icon shape=angle class=nav-group-trigger-icon id=icon-tags dir=down title=Collapse></clr-icon></button></div><div id=section-tags class=nav-group-children><clr-vertical-nav-group-children><a class=nav-link href=https://www.definit.co.uk/tag/vrops/><span class=nav-text>vrops <span class="badge badge-1">68</span></span>
</a><a class=nav-link href=https://www.definit.co.uk/tag/vmware/><span class=nav-text>vmware <span class="badge badge-1">57</span></span>
</a><a class=nav-link href=https://www.definit.co.uk/tag/nsx/><span class=nav-text>nsx <span class="badge badge-1">41</span></span>
</a><a class=nav-link href=https://www.definit.co.uk/tag/automation/><span class=nav-text>automation <span class="badge badge-1">40</span></span>
</a><a class=nav-link href=https://www.definit.co.uk/tag/windows/><span class=nav-text>windows <span class="badge badge-1">38</span></span>
</a><a class=nav-link href=https://www.definit.co.uk/tag/vmworld/><span class=nav-text>vmworld <span class="badge badge-1">34</span></span>
</a><a class=nav-link href=https://www.definit.co.uk/tag/esx-and-esxi/><span class=nav-text>esx and esxi <span class="badge badge-1">33</span></span>
</a><a class=nav-link href=https://www.definit.co.uk/tag/vcenter-server/><span class=nav-text>vcenter server <span class="badge badge-1">33</span></span>
</a><a class=nav-link href=https://www.definit.co.uk/tag/vra/><span class=nav-text>vra <span class="badge badge-1">30</span></span>
</a><a class=nav-link href=https://www.definit.co.uk/tag/webinar/><span class=nav-text>webinar <span class="badge badge-1">29</span></span></a></clr-vertical-nav-group-children></div></clr-vertical-nav-group><div class=nav-divider></div></section></div></clr-vertical-nav><script lang=javascript>function toggleNavigation(e){var t=document.getElementById("section-"+e),n=document.getElementById("icon-"+e);t.style.display==="none"?(t.style.display="block",n.dir="down"):(t.style.display="none",n.dir="right")}</script></div><script async src="https://www.googletagmanager.com/gtag/js?id=UA-4368767-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-4368767-1")</script><script src=/js/lightbox-plus-jquery.min.js></script></clr-main-container></body></html>