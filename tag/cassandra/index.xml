<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Cassandra on DefinIT</title><link>https://www.definit.co.uk/tag/cassandra/</link><description>Recent content in Cassandra on DefinIT</description><generator>Hugo</generator><language>en-gb</language><lastBuildDate>Mon, 16 May 2016 15:26:29 +0000</lastBuildDate><atom:link href="https://www.definit.co.uk/tag/cassandra/index.xml" rel="self" type="application/rss+xml"/><item><title>Log Insight services not starting after cluster IP changes</title><link>https://www.definit.co.uk/2016/05/log-insight-services-not-starting-after-cluster-ip-changes/</link><pubDate>Mon, 16 May 2016 15:26:29 +0000</pubDate><guid>https://www.definit.co.uk/2016/05/log-insight-services-not-starting-after-cluster-ip-changes/</guid><description>&lt;p&gt;&lt;!-- raw HTML omitted --&gt;I ran into this problem at a customer site where all the Log Insight nodes were changed due to some IP address conflicts. I think the problem occurred because the IP addresses were all changed and the VMs shut down, without time for the application to update the node IPs.&lt;/p&gt;
&lt;p&gt;The symptoms:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The web interface was down, a &lt;em&gt;netstat -ano | grep -i “443”&lt;/em&gt; showed the service was listening&lt;/li&gt;
&lt;li&gt;_service loginsight status|restart|stop|start _hung and then timed out on the Master node&lt;/li&gt;
&lt;li&gt;The loginsight service was not running on the Worker nodes&lt;/li&gt;
&lt;li&gt;/var/log/loginsight/runtime.log contains warning messages about “Cassandra cluster not ready yet”&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;Running /usr/lib/loginsight/application/lib/apache-cassandra-*/bin/nodetool status showed the two data nodes down (DN) and used the old IP address&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;All of the nodes were up with their new IP addresses, however Cassandra on the Master node was still looking for the old IP addresses for the Worker nodes. The Worker nodes were in a similar state, knowing their own new IP addresses but not being able to update the Master node because they didn’t have the Master node’s new IP address.&lt;/p&gt;</description></item></channel></rss>