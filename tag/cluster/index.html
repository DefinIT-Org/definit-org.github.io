<!doctype html><!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"><![endif]--><!--[if IE 7]><html class="no-js lt-ie9 lt-ie8"><![endif]--><!--[if IE 8]><html class="no-js lt-ie9"><![endif]--><!--[if gt IE 8]><!--><html class=no-js><!--<![endif]-->
<head>
<meta charset=utf-8>
<title>cluster &#183; DefinIT</title>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=HandheldFriendly content="True">
<meta name=MobileOptimized content="320">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content>
<meta name=keywords content>
<meta property="og:title" content="cluster  &#183; DefinIT ">
<meta property="og:site_name" content="DefinIT">
<meta property="og:url" content="https://www.definit.co.uk/tag/cluster/">
<meta property="og:locale" content="en-gb">
<meta property="og:type" content="website">
<link rel=alternate type=application/rss+xml href=https://www.definit.co.uk/tag/cluster/index.xml title=DefinIT>
<link rel=canonical href=https://www.definit.co.uk/tag/cluster/>
<link rel=apple-touch-icon-precomposed sizes=144x144 href=/touch-icon-144-precomposed.png>
<link rel=icon href=/images/favicon-16x16.png>
<meta name=generator content="Hugo 0.89.1"><!--[if lt IE 9]><script src=https://oss.maxcdn.com/libs/html5shiv/3.7.2/html5shiv.js></script>
<script src=https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js></script><![endif]-->
<script src=/js/clr-icons.min.js></script>
<script src=/js/custom-elements.min.js></script>
<link href=/css/clr-ui-dark.min.css rel=stylesheet>
<link href=/css/clr-icons.min.css rel=stylesheet>
<link href=/css/definit-clarity.css rel=stylesheet>
<link href=/css/lightbox.min.css rel=stylesheet>
</head>
<body data-ng-app=myapp data-ng-controller=MyController data-ng-mouseleave=MouseLeave($event)>
<div class=main-container>
<header class=header-6>
<div class=branding>
<a class=navbar-brand-img href=/>
<img alt src=/images/logos/definit-logo.png>
<span class=title>DefinIT</span>
</a>
</div>
<nav class=header-nav>
<a class="nav-link nav-text" href=https://www.definit.co.uk/>
Home
</a>
<a class="nav-link nav-text" href=https://www.definit.co.uk/about/>
About
</a>
<a class="nav-link nav-text" href=https://www.github.com/sammcgeown>
GitHub
</a>
<a class="nav-link nav-text" href=https://www.definit.co.uk/index.xml>
RSS
</a>
</nav>
<div class=header-actions>
<form class=search id=search method=get action=//google.com/search>
<label for=search_input>
<input id=search_input type=text name=q placeholder="Search with Google">
<input type=hidden name=as_sitesearch value=https://www.definit.co.uk>
</label>
</form>
</div>
</header>
<nav class=subnav>
<ul class=nav>
<li class=nav-item>
<a class=nav-link href=https://www.definit.co.uk/>
Home
</a>
</li>
<li class=nav-item>
<a class=nav-link href=https://www.definit.co.uk/about/>
About
</a>
</li>
<li class=nav-item>
<a class=nav-link href=https://www.github.com/sammcgeown>
GitHub
</a>
</li>
<li class=nav-item>
<a class=nav-link href=https://www.definit.co.uk/index.xml>
RSS
</a>
</li>
</ul>
</nav>
<div class=content-container>
<div class=content-area>
<h1>CLUSTER</h1>
<div class=clr-row>
<div class="clr-col-12 clr-col-sm-12 clr-col-md-12 clr-col-lg-6 clr-col-xl-6">
<div class=card>
<div class=card-header style=height:74px>
<a href=https://www.definit.co.uk/2016/12/vro-shutdownvsancluster/>vRealize Orchestrator Workflow: shutdownVSANCluster</a>
</div>
<div class=card-block>
<div class=card-media-block>
<div class="card-media-desciption clr-card-authors">
<span class="card-media-title clr-card-authors">
<div class=clr-card-authors><img src=/images/SamMcGeown2020.jpg alt class=img-author>Written by <a href=https://www.definit.co.uk/authors/sam-mcgeown/>Sam McGeown</a>
on 30/12/2016
</div>
<div class=clr-card-authors>
Published under <a href=/category/vmware>VMware</a>, <a href=/category/vrealize-orchestrator>vRealize Orchestrator</a> and <a href=/category/vsphere>vSphere</a>
</div>
</span>
</div>
</div>
</div>
<div class=card-block>
<div class=card-text style=max-height:200px;min-height:200px;overflow:hidden>
My vSphere lab is split into two halves - a low power management cluster, powered by 3 Intel NUCs, and a more hefty workload cluster powered by a Dell C6100 chassis with 3 nodes. The workload servers are noisy and power hungry so they tend to be powered off when I am not using them, and since they live in my garage, I power them on and off remotely.
To automate the process, I wanted to write an Orchestrator workflow (vRO sits on my management cluster and is therefore always on) that could safely and robustly shut down the workload cluster.
</div>
</div>
<div class=card-footer>
<a class=card-link href=https://www.definit.co.uk/2016/12/vro-shutdownvsancluster/>More</a>
</div>
</div>
</div>
<div class="clr-col-12 clr-col-sm-12 clr-col-md-12 clr-col-lg-6 clr-col-xl-6">
<div class=card>
<div class=card-header style=height:74px>
<a href=https://www.definit.co.uk/2015/07/deploying-vrealize-automation-6-2-appliance-cluster-with-postgres-replication/>Deploying vRealize Automation 6.2 Appliance Cluster with Postgres Replication</a>
</div>
<div class=card-block>
<div class=card-media-block>
<div class="card-media-desciption clr-card-authors">
<span class="card-media-title clr-card-authors">
<div class=clr-card-authors><img src=/images/SamMcGeown2020.jpg alt class=img-author>Written by <a href=https://www.definit.co.uk/authors/sam-mcgeown/>Sam McGeown</a>
on 8/7/2015
</div>
<div class=clr-card-authors>
Published under <a href=/category/vmware>VMware</a> and <a href=/category/vrealize-automation>vRealize Automation</a>
</div>
</span>
</div>
</div>
</div>
<div class=card-block>
<div class=card-text style=max-height:200px;min-height:200px;overflow:hidden>
The recommendations for the vRealize Appliance have changed with 6.2, the published reference architecture now does not recommend using an external Postgres database (either vPostgres appliance, a 3rd party Postgres deployment or using a third vRealize Appliance as a stand-alone database installation). Instead the recommended layout is shown in the diagram below. One instance of postgres on the primary node becomes an active instance, replicating to the second node which is passive.
</div>
</div>
<div class=card-footer>
<a class=card-link href=https://www.definit.co.uk/2015/07/deploying-vrealize-automation-6-2-appliance-cluster-with-postgres-replication/>More</a>
</div>
</div>
</div>
<div class="clr-col-12 clr-col-sm-12 clr-col-md-12 clr-col-lg-6 clr-col-xl-6">
<div class=card>
<div class=card-header style=height:74px>
<a href=https://www.definit.co.uk/2015/02/creating-a-vrealize-log-insight-2-5-cluster-with-integrated-load-balancing/>Creating a vRealize Log Insight 2.5 cluster with Integrated Load Balancing</a>
</div>
<div class=card-block>
<div class=card-media-block>
<div class="card-media-desciption clr-card-authors">
<span class="card-media-title clr-card-authors">
<div class=clr-card-authors><img src=/images/SamMcGeown2020.jpg alt class=img-author>Written by <a href=https://www.definit.co.uk/authors/sam-mcgeown/>Sam McGeown</a>
on 11/2/2015
</div>
<div class=clr-card-authors>
Published under <a href=/category/vmware>VMware</a>
</div>
</span>
</div>
</div>
</div>
<div class=card-block>
<div class=card-text style=max-height:200px;min-height:200px;overflow:hidden>
vRealize Log Insight 2.5 improves on the clustering in previous versions with an Integrated Load Balancer (ILB) which allows you to distribute load across your cluster of Log Insight instances without actually needing an external load balancer. The advantage of this over an external load balancer is that the source IP is maintained which allows for easier analysis.
The minimum number of nodes in a cluster is three, the first node becomes the Master node and the other two become Worker nodes.
</div>
</div>
<div class=card-footer>
<a class=card-link href=https://www.definit.co.uk/2015/02/creating-a-vrealize-log-insight-2-5-cluster-with-integrated-load-balancing/>More</a>
</div>
</div>
</div>
<div class="clr-col-12 clr-col-sm-12 clr-col-md-12 clr-col-lg-6 clr-col-xl-6">
<div class=card>
<div class=card-header style=height:74px>
<a href=https://www.definit.co.uk/2014/09/vcac-6-1-build-out-to-distributed-model-clustered-vcac-appliances/>vCAC 6.1 build out to distributed model: Clustered vCAC Appliances</a>
</div>
<div class=card-block>
<div class=card-media-block>
<div class="card-media-desciption clr-card-authors">
<span class="card-media-title clr-card-authors">
<div class=clr-card-authors><img src=/images/SamMcGeown2020.jpg alt class=img-author>Written by <a href=https://www.definit.co.uk/authors/sam-mcgeown/>Sam McGeown</a>
on 18/9/2014
</div>
<div class=clr-card-authors>
Published under
</div>
</span>
</div>
</div>
</div>
<div class=card-block>
<div class=card-text style=max-height:200px;min-height:200px;overflow:hidden>
With the release of vCAC 6.1 there have been some great improvements in the setup of the clustered vCAC appliances - none of the previous copying of configuration files between appliances - just a simple wizard to do it all for you. In my opinion this is superb.
You&rsquo;ll need to have deployed a load balancer of some sort - vCAC 6.0 build-out to distributed model – Part 3.1: Configure Load Balancing with vCNS or vCAC 6.
</div>
</div>
<div class=card-footer>
<a class=card-link href=https://www.definit.co.uk/2014/09/vcac-6-1-build-out-to-distributed-model-clustered-vcac-appliances/>More</a>
</div>
</div>
</div>
<div class="clr-col-12 clr-col-sm-12 clr-col-md-12 clr-col-lg-6 clr-col-xl-6">
<div class=card>
<div class=card-header style=height:74px>
<a href=https://www.definit.co.uk/2014/06/vcac-6-0-build-out-to-distributed-model-part-4-deploying-and-clustering-a-secondary-vcac-appliance/>vCAC 6.0 build-out to distributed model &amp;ndash; Part 4: Deploying and clustering a secondary vCAC Appliance</a>
</div>
<div class=card-block>
<div class=card-media-block>
<div class="card-media-desciption clr-card-authors">
<span class="card-media-title clr-card-authors">
<div class=clr-card-authors><img src=/images/SamMcGeown2020.jpg alt class=img-author>Written by <a href=https://www.definit.co.uk/authors/sam-mcgeown/>Sam McGeown</a>
on 26/6/2014
</div>
<div class=clr-card-authors>
Published under <a href=/category/vmware>VMware</a>
</div>
</span>
</div>
</div>
</div>
<div class=card-block>
<div class=card-text style=max-height:200px;min-height:200px;overflow:hidden>
This is the fourth article in a series about how to build-out a simple vCAC 6 installation to a distributed model.
By the end of this post we will have deployed a second vCAC Appliance, clustered it with the first appliance and registered the load balanced URL with the Identity Appliance. This will mean logging on to https://vcloud.definit.local/shell-ui-app will be successful.
vCAC deployment with clustered and load balanced vCAC Appliances An overview of the steps required are below:
</div>
</div>
<div class=card-footer>
<a class=card-link href=https://www.definit.co.uk/2014/06/vcac-6-0-build-out-to-distributed-model-part-4-deploying-and-clustering-a-secondary-vcac-appliance/>More</a>
</div>
</div>
</div>
<div class="clr-col-12 clr-col-sm-12 clr-col-md-12 clr-col-lg-6 clr-col-xl-6">
<div class=card>
<div class=card-header style=height:74px>
<a href=https://www.definit.co.uk/2014/03/extending-a-vcenter-orchestrator-vco-workflow-with-foreach-backing-up-all-esxi-hosts-in-a-cluster/>Extending a vCenter Orchestrator (vCO) Workflow with ForEach &amp;ndash; Backing up all ESXi hosts in a Cluster</a>
</div>
<div class=card-block>
<div class=card-media-block>
<div class="card-media-desciption clr-card-authors">
<span class="card-media-title clr-card-authors">
<div class=clr-card-authors><img src=/images/SamMcGeown2020.jpg alt class=img-author>Written by <a href=https://www.definit.co.uk/authors/sam-mcgeown/>Sam McGeown</a>
on 20/3/2014
</div>
<div class=clr-card-authors>
Published under <a href=/category/vmware>VMware</a>, <a href=/category/vrealize-orchestrator>vRealize Orchestrator</a> and <a href=/category/vsphere>vSphere</a>
</div>
</span>
</div>
</div>
</div>
<div class=card-block>
<div class=card-text style=max-height:200px;min-height:200px;overflow:hidden>
In my previous post Backing up ESXi 5.5 host configurations with vCenter Orchestrator (vCO) – Workflow design walkthrough I showed how to create a workflow to back up host configurations, but it was limited to one host at a time. For this post I’m going to show how to create a new workflow that calls the previous one on multiple hosts using a ForEach loop to run it against each one.
</div>
</div>
<div class=card-footer>
<a class=card-link href=https://www.definit.co.uk/2014/03/extending-a-vcenter-orchestrator-vco-workflow-with-foreach-backing-up-all-esxi-hosts-in-a-cluster/>More</a>
</div>
</div>
</div>
<div class="clr-col-12 clr-col-sm-12 clr-col-md-12 clr-col-lg-6 clr-col-xl-6">
<div class=card>
<div class=card-header style=height:74px>
<a href=https://www.definit.co.uk/2012/08/vsphere-ha-agent-for-host-hosts-name-has-an-error-in-clusters-name-in-datacenters-name-vsphere-ha-agent-cannot-be-correctly-installed-or-configured/>vSphere HA agent for host [Host’s Name] has an error in [Cluster’s Name] in [Datacenter’s Name]: vSphere HA agent cannot be correctly installed or configured</a>
</div>
<div class=card-block>
<div class=card-media-block>
<div class="card-media-desciption clr-card-authors">
<span class="card-media-title clr-card-authors">
<div class=clr-card-authors><img src=/images/SamMcGeown2020.jpg alt class=img-author>Written by <a href=https://www.definit.co.uk/authors/sam-mcgeown/>Sam McGeown</a>
on 24/8/2012
</div>
<div class=clr-card-authors>
Published under <a href=/category/vmware>VMware</a> and <a href=/category/vsphere>vSphere</a>
</div>
</span>
</div>
</div>
</div>
<div class=card-block>
<div class=card-text style=max-height:200px;min-height:200px;overflow:hidden>
Here&rsquo;s a lesson in checking the basics! I added new ESXi 5 host to a cluster today and spent a good couple of hours troubleshooting the error:
vSphere HA agent for host [Host&rsquo;s Name] has an error in [Cluster&rsquo;s Name] in [Datacenter&rsquo;s Name]: vSphere HA agent cannot be correctly installed or configured
After a few basic checks, migrating the host in and out of the cluster and rebooting, I headed off to google and began troubleshooting.
</div>
</div>
<div class=card-footer>
<a class=card-link href=https://www.definit.co.uk/2012/08/vsphere-ha-agent-for-host-hosts-name-has-an-error-in-clusters-name-in-datacenters-name-vsphere-ha-agent-cannot-be-correctly-installed-or-configured/>More</a>
</div>
</div>
</div>
</div>
</div>
<nav class="sidenav clr-col-12 clr-col-sm-12 clr-col-md-12 clr-col-lg-6 clr-col-xl-6">
<section class=sidenav-content>
<section class="nav-group collapsible">
<input id=Categories type=checkbox>
<label for=Categories>Categories</label>
<ul class=nav-list>
<li><a href=/category/automation class=nav-link>AUTOMATION <span class="badge badge-1">7</span></a></li>
<li><a href=/category/career class=nav-link>CAREER <span class="badge badge-1">23</span></a></li>
<li><a href=/category/certification class=nav-link>CERTIFICATION <span class="badge badge-1">2</span></a></li>
<li><a href=/category/cloud class=nav-link>CLOUD <span class="badge badge-1">8</span></a></li>
<li><a href=/category/cloud-native class=nav-link>CLOUD-NATIVE <span class="badge badge-1">14</span></a></li>
<li><a href=/category/community class=nav-link>COMMUNITY <span class="badge badge-1">42</span></a></li>
<li><a href=/category/development class=nav-link>DEVELOPMENT <span class="badge badge-1">3</span></a></li>
<li><a href=/category/exam class=nav-link>EXAM <span class="badge badge-1">1</span></a></li>
<li><a href=/category/fusion class=nav-link>FUSION <span class="badge badge-1">1</span></a></li>
<li><a href=/category/log-insight class=nav-link>LOG-INSIGHT <span class="badge badge-1">2</span></a></li>
<li><a href=/category/microsoft class=nav-link>MICROSOFT <span class="badge badge-1">60</span></a></li>
<li><a href=/category/networking class=nav-link>NETWORKING <span class="badge badge-1">34</span></a></li>
<li><a href=/category/nsx class=nav-link>NSX <span class="badge badge-1">26</span></a></li>
<li><a href=/category/powercli class=nav-link>POWERCLI <span class="badge badge-1">4</span></a></li>
<li><a href=/category/storage class=nav-link>STORAGE <span class="badge badge-1">6</span></a></li>
<li><a href=/category/vcf class=nav-link>VCF <span class="badge badge-1">2</span></a></li>
<li><a href=/category/vcloud-director class=nav-link>VCLOUD-DIRECTOR <span class="badge badge-1">5</span></a></li>
<li><a href=/category/vmware class=nav-link>VMWARE <span class="badge badge-1">205</span></a></li>
<li><a href=/category/vmware-cloud-foundation class=nav-link>VMWARE-CLOUD-FOUNDATION <span class="badge badge-1">1</span></a></li>
<li><a href=/category/vmworld class=nav-link>VMWORLD <span class="badge badge-1">13</span></a></li>
<li><a href=/category/vrealize-automation class=nav-link>VREALIZE-AUTOMATION <span class="badge badge-1">44</span></a></li>
<li><a href=/category/vrealize-operations class=nav-link>VREALIZE-OPERATIONS <span class="badge badge-1">72</span></a></li>
<li><a href=/category/vrealize-orchestrator class=nav-link>VREALIZE-ORCHESTRATOR <span class="badge badge-1">29</span></a></li>
<li><a href=/category/vsan class=nav-link>VSAN <span class="badge badge-1">4</span></a></li>
<li><a href=/category/vsphere class=nav-link>VSPHERE <span class="badge badge-1">58</span></a></li>
<li><a href=/category/webinar class=nav-link>WEBINAR <span class="badge badge-1">17</span></a></li>
<li><a href=/category/workstation class=nav-link>WORKSTATION <span class="badge badge-1">1</span></a></li>
</ul>
</section>
<section class="nav-group collapsible">
<input id=Tags type=checkbox>
<label for=Tags>Tags (Top 10)</label>
<ul class=nav-list>
<li><a href=/tag/vrops class=nav-link>VROPS <span class="badge badge-1">68</span></a></li>
<li><a href=/tag/vmware class=nav-link>VMWARE <span class="badge badge-1">52</span></a></li>
<li><a href=/tag/windows class=nav-link>WINDOWS <span class="badge badge-1">38</span></a></li>
<li><a href=/tag/automation class=nav-link>AUTOMATION <span class="badge badge-1">35</span></a></li>
<li><a href=/tag/esx-and-esxi class=nav-link>ESX-AND-ESXI <span class="badge badge-1">33</span></a></li>
<li><a href=/tag/vcenter-server class=nav-link>VCENTER-SERVER <span class="badge badge-1">33</span></a></li>
<li><a href=/tag/nsx class=nav-link>NSX <span class="badge badge-1">31</span></a></li>
<li><a href=/tag/vmworld class=nav-link>VMWORLD <span class="badge badge-1">31</span></a></li>
<li><a href=/tag/vra class=nav-link>VRA <span class="badge badge-1">29</span></a></li>
<li><a href=/tag/webinar class=nav-link>WEBINAR <span class="badge badge-1">26</span></a></li>
</section>
<section class=nav-group>
<label for=Sponsors>Sponsors</label>
<ul class=nav-list>
</ul>
</section>
</section>
</nav>
</div>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-4368767-1"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','UA-4368767-1')</script>
<script src=/js/lightbox-plus-jquery.min.js></script>
</div>
</body>
</html>