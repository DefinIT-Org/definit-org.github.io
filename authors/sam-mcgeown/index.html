<!doctype html><!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"><![endif]--><!--[if IE 7]><html class="no-js lt-ie9 lt-ie8"><![endif]--><!--[if IE 8]><html class="no-js lt-ie9"><![endif]--><!--[if gt IE 8]><!--><html class=no-js><!--<![endif]--><head><meta charset=utf-8><title>&#183; DefinIT</title><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta property="og:title" content="  &#183; DefinIT "><meta property="og:site_name" content="DefinIT"><meta property="og:url" content="https://www.definit.co.uk/authors/sam-mcgeown/"><meta property="og:locale" content="en-gb"><meta property="og:type" content="website"><link rel=alternate type=application/rss+xml href=https://www.definit.co.uk/authors/sam-mcgeown/index.xml title=DefinIT><link rel=canonical href=https://www.definit.co.uk/authors/sam-mcgeown/><link rel=apple-touch-icon-precomposed sizes=144x144 href=/touch-icon-144-precomposed.png><link rel=icon href=/images/favicon-16x16.png><meta name=generator content="Hugo 0.106.0"><!--[if lt IE 9]><script src=https://oss.maxcdn.com/libs/html5shiv/3.7.2/html5shiv.js></script>
<script src=https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js></script><![endif]--><script src=/js/clr-icons.min.js></script>
<script src=/js/custom-elements.min.js></script>
<link href=/css/clr-ui.min.css rel=stylesheet><link href=/css/clr-icons.min.css rel=stylesheet><link href=/css/definit-clarity.css rel=stylesheet><link href=/css/lightbox.min.css rel=stylesheet></head><body data-ng-app=myapp data-ng-controller=MyController data-ng-mouseleave=MouseLeave($event)><div class=main-container><header class=header-6><div class=branding><a class=navbar-brand-img href=/><img alt src=/images/logos/definit-logo.png>
<span class=title>DefinIT</span></a></div><nav class=header-nav><a class="nav-link nav-text" href=https://www.definit.co.uk/ title=Home>Home</a>
<a class="nav-link nav-text" href=https://www.definit.co.uk/about/ title=About>About</a>
<a class="nav-link nav-text" href=https://www.github.com/sammcgeown title=GitHub>GitHub</a>
<a class="nav-link nav-text" href=https://www.definit.co.uk/index.xml title=RSS>RSS</a></nav><div class=header-actions><form class=search id=search method=get action=//google.com/search><label for=search_input><input id=search_input type=text name=q placeholder="Search with Google">
<input type=hidden name=as_sitesearch value=https://www.definit.co.uk></label></form></div></header><div class=content-container><div class=content-area><img src=/images/SamMcGeown2020.jpg alt="Sam McGeown" width=200px class=clarityAuthorProfile><h1>Sam McGeown</h1><p>Sam has been working in the IT industry for nearly 20 years now, and is currently working for VMware as a Senior Technical Marketing Manger in the Cloud Management Business Unit (CMBU) focussed on Automation. Previously, he has worked as consultant for VMware PSO, specializing in cloud automation and network virtualization.Â  His technical experience includes design, development and implementation of cloud solutions, network function virtualisation and the software defined datacentre. Sam specialises in automation of network virtualisation for cloud infrastructure, enabling public cloud solutions for service providers and private or hybrid cloud solutions for the enterprise.</p><p>Sam holds multiple high level industry certifications, including the VMware Certified Design Expert (VCDX) for Cloud Management and Automation. He is also a proud member of the vExpert community, holding the vExpert accolade from 2013-present, as well as being selected for the vExpert NSX, vExpert VSAN and vExpert Cloud sub-programs.</p><p><a href=https://twitter.com/sammcgeown>Follow Sam McGeown on Twitter</a></p><h3>All posts by Sam McGeown</h3><div class=clr-row><div class="clr-col-12 clr-col-sm-12 clr-col-md-12 clr-col-lg-6 clr-col-xl-6"><div class=card><div class=card-header style=height:74px><a href=https://www.definit.co.uk/2022/07/looking-forward-to-vmware-explore-the-artist-formerly-known-as-vmworld/>Looking forward to VMware Explore - the artist formerly known as VMworld</a></div><div class=card-block><div class=card-media-block><div class="card-media-desciption clr-card-authors"><span class="card-media-title clr-card-authors"><div class=clr-card-authors><img src=/images/SamMcGeown2020.jpg alt class=img-author>Written by <a href=https://www.definit.co.uk/authors/sam-mcgeown/>Sam McGeown</a>
on 4/7/2022</div><div class=clr-card-authors>Published under <a href=/category/career>Career</a> and <a href=/category/vmware>VMware</a></div></span></div></div></div><div class=card-block><div class=card-text style=max-height:200px;min-height:200px;overflow:hidden><img src=/2022/07/looking-forward-to-vmware-explore-the-artist-formerly-known-as-vmworld/vmware-explore.png class=clr-card-featured-image>
It&rsquo;s hard to believe that my first VMworld was almost 9 years ago! I feel very blessed to have attended in 2014 (EU), 2015 (EU), 2016 (US), 2017 (EU), 2018 (my first as an employee), 2019 (my first time as a speaker!), and virtually in 2020 and 2021.
Over the years VMworld has been hugely formative in my career, I&rsquo;ve talked many times before about how the trajectory of my career really took off when I got involved with the London VMUG, and how that led to being awarded vExpert in 2013.</div></div><div class=card-footer><a class=card-link href=https://www.definit.co.uk/2022/07/looking-forward-to-vmware-explore-the-artist-formerly-known-as-vmworld/>More</a></div></div></div><div class="clr-col-12 clr-col-sm-12 clr-col-md-12 clr-col-lg-6 clr-col-xl-6"><div class=card><div class=card-header style=height:74px><a href=https://www.definit.co.uk/2021/12/forwarding-tanzu-kubernetes-grid-logs-to-vrealize-log-insight-cloud-using-the-fluent-bit-package/>Forwarding Tanzu Kubernetes Grid logs to vRealize Log Insight Cloud using the Fluent-bit Package</a></div><div class=card-block><div class=card-media-block><div class="card-media-desciption clr-card-authors"><span class="card-media-title clr-card-authors"><div class=clr-card-authors><img src=/images/SamMcGeown2020.jpg alt class=img-author>Written by <a href=https://www.definit.co.uk/authors/sam-mcgeown/>Sam McGeown</a>
on 13/12/2021</div><div class=clr-card-authors>Published under <a href=/category/cloud-native>Cloud-Native</a> and <a href=/category/vmware>VMware</a></div></span></div></div></div><div class=card-block><div class=card-text style=max-height:200px;min-height:200px;overflow:hidden><img src=/images/logos/vmware-tanzu.png class=clr-card-featured-image>
In my previous post I walked through configuring kubernetes ingress with automatically generated SSL certificates and DNS registration using Tanzu Kubernetes Grid&rsquo;s Packages. Another of the packaged applications available is Fluent-bit, which enables log forwarding from your Kubernetes cluster and workloads to a range of supported logging endpoints.
There are a couple of tweaks required in order to forward logs to vRealize Automation Log Insight Cloud. We need to use the HTTP output in the Fluent Bit configuration to forward the logs as a JSON payload to the Log Insight API.</div></div><div class=card-footer><a class=card-link href=https://www.definit.co.uk/2021/12/forwarding-tanzu-kubernetes-grid-logs-to-vrealize-log-insight-cloud-using-the-fluent-bit-package/>More</a></div></div></div><div class="clr-col-12 clr-col-sm-12 clr-col-md-12 clr-col-lg-6 clr-col-xl-6"><div class=card><div class=card-header style=height:74px><a href=https://www.definit.co.uk/2021/12/ingress-ssl-and-dns-using-tkg-1.4-packages-on-tkgs-clusters/>Ingress, SSL and DNS using TKG 1.4 Packages on TKGs Clusters</a></div><div class=card-block><div class=card-media-block><div class="card-media-desciption clr-card-authors"><span class="card-media-title clr-card-authors"><div class=clr-card-authors><img src=/images/SamMcGeown2020.jpg alt class=img-author>Written by <a href=https://www.definit.co.uk/authors/sam-mcgeown/>Sam McGeown</a>
on 9/12/2021</div><div class=clr-card-authors>Published under <a href=/category/cloud-native>Cloud-Native</a> and <a href=/category/vmware>VMware</a></div></span></div></div></div><div class=card-block><div class=card-text style=max-height:200px;min-height:200px;overflow:hidden><img src=/images/logos/vmware-tanzu.png class=clr-card-featured-image>
So, you&rsquo;ve set up your shiny new Workload Management on vSphere, created a Namespace and deployed a cluster&mldr;now what?! When you deploy a workload cluster from Workload Management on vSphere 7, it comes with basic functionality, but in order to start running workloads you will inevitably need to install additional tools. That&rsquo;s where Tanzu&rsquo;s Packages come into play.
Tanzu&rsquo;s User Managed Packages are based on a project called Carvel which:</div></div><div class=card-footer><a class=card-link href=https://www.definit.co.uk/2021/12/ingress-ssl-and-dns-using-tkg-1.4-packages-on-tkgs-clusters/>More</a></div></div></div><div class="clr-col-12 clr-col-sm-12 clr-col-md-12 clr-col-lg-6 clr-col-xl-6"><div class=card><div class=card-header style=height:74px><a href=https://www.definit.co.uk/2021/09/replacing-docker-desktop-with-vmware-fusion-or-workstation/>Replacing Docker Desktop with VMware Fusion or Workstation</a></div><div class=card-block><div class=card-media-block><div class="card-media-desciption clr-card-authors"><span class="card-media-title clr-card-authors"><div class=clr-card-authors><img src=/images/SamMcGeown2020.jpg alt class=img-author>Written by <a href=https://www.definit.co.uk/authors/sam-mcgeown/>Sam McGeown</a>
on 1/9/2021</div><div class=clr-card-authors>Published under <a href=/category/cloud-native>Cloud Native</a> and <a href=/category/vmware>VMware</a></div></span></div></div></div><div class=card-block><div class=card-text style=max-height:200px;min-height:200px;overflow:hidden><img src=/images/logos/vmware-fusion.png class=clr-card-featured-image>
Just recently Docker announced some new pricing tiers for it&rsquo;s almost ubiquitous Docker Desktop. I&rsquo;m not going to opine much on this, time will tell whether this is a company saving move or not. Suffice to say that I work for a large company and would need a subscription to continue using Docker Desktop.
The venerable Corey Quinn was on the news like a flash, so I&rsquo;ll let you read his thread for some hard core snark analysis.</div></div><div class=card-footer><a class=card-link href=https://www.definit.co.uk/2021/09/replacing-docker-desktop-with-vmware-fusion-or-workstation/>More</a></div></div></div><div class="clr-col-12 clr-col-sm-12 clr-col-md-12 clr-col-lg-6 clr-col-xl-6"><div class=card><div class=card-header style=height:74px><a href=https://www.definit.co.uk/2021/08/my-vmworld-2021-tips-and-top-picks/>My VMworld 2021 Tips and Top Picks</a></div><div class=card-block><div class=card-media-block><div class="card-media-desciption clr-card-authors"><span class="card-media-title clr-card-authors"><div class=clr-card-authors><img src=/images/SamMcGeown2020.jpg alt class=img-author>Written by <a href=https://www.definit.co.uk/authors/sam-mcgeown/>Sam McGeown</a>
on 31/8/2021</div><div class=clr-card-authors>Published under <a href=/category/community>Community</a></div></span></div></div></div><div class=card-block><div class=card-text style=max-height:200px;min-height:200px;overflow:hidden><img src=/images/vmworld-2021.png class=clr-card-featured-image>
I can tell from the ever-increasing urgency of emails from the events team that VMworld 2021 is just around the corner!
Virtual conference event fatigue is real. I have attended and presented at many since the pandemic began, with varying levels of engagement. As an introvert, I can&rsquo;t quite believe I&rsquo;m saying this, but I can&rsquo;t wait to get pack to meeting up with people in the real world!
The value of a conference is super-charged by the mix of dedicated time, networking opportunities and quality live content.</div></div><div class=card-footer><a class=card-link href=https://www.definit.co.uk/2021/08/my-vmworld-2021-tips-and-top-picks/>More</a></div></div></div><div class="clr-col-12 clr-col-sm-12 clr-col-md-12 clr-col-lg-6 clr-col-xl-6"><div class=card><div class=card-header style=height:74px><a href=https://www.definit.co.uk/2021/06/workaround-adding-an-external-vrealize-orchestrator-8.x-instance-to-code-stream/>Workaround: Adding an external vRealize Orchestrator 8.x instance to Code Stream</a></div><div class=card-block><div class=card-media-block><div class="card-media-desciption clr-card-authors"><span class="card-media-title clr-card-authors"><div class=clr-card-authors><img src=/images/SamMcGeown2020.jpg alt class=img-author>Written by <a href=https://www.definit.co.uk/authors/sam-mcgeown/>Sam McGeown</a>
on 25/6/2021</div><div class=clr-card-authors>Published under <a href=/category/vrealize-automation>vRealize Automation</a> and <a href=/category/vrealize-orchestrator>vRealize Orchestrator</a></div></span></div></div></div><div class=card-block><div class=card-text style=max-height:200px;min-height:200px;overflow:hidden><img src=/images/logos/vmware-vrealize-code-stream.png class=clr-card-featured-image>
I was doing some testing with adding an external vRealize Orchestrator 8.4 endpoint to vRealize Automation Code Stream 8.4, and it turns out there&rsquo;s a redirect that happens with the vRO 8.4 appliance that makes the endpoint validation fail. When you enter the URL and click ACCEPT CERTIFICATE the UI will throw an error: Server error on getting certificates.
Http failure response for https://&lt;vRA FQDN>/codestream/api/endpoint-certificate?url=https://&lt;vRO FQDN>: 400 Bad Request
Error getting certificates!</div></div><div class=card-footer><a class=card-link href=https://www.definit.co.uk/2021/06/workaround-adding-an-external-vrealize-orchestrator-8.x-instance-to-code-stream/>More</a></div></div></div><div class="clr-col-12 clr-col-sm-12 clr-col-md-12 clr-col-lg-6 clr-col-xl-6"><div class=card><div class=card-header style=height:74px><a href=https://www.definit.co.uk/2021/04/scheduling-a-restart-of-a-kubernetes-deployment-using-cronjobs/>Scheduling a restart of a Kubernetes Deployment using CronJobs</a></div><div class=card-block><div class=card-media-block><div class="card-media-desciption clr-card-authors"><span class="card-media-title clr-card-authors"><div class=clr-card-authors><img src=/images/SamMcGeown2020.jpg alt class=img-author>Written by <a href=https://www.definit.co.uk/authors/sam-mcgeown/>Sam McGeown</a>
on 8/4/2021</div><div class=clr-card-authors>Published under <a href=/category/cloud-native>Cloud Native</a></div></span></div></div></div><div class=card-block><div class=card-text style=max-height:200px;min-height:200px;overflow:hidden><img src=/images/logos/kubernetes.svg class=clr-card-featured-image>
Most of my home network runs on my Raspberry Pi Kubernetes cluster, and for the most part it&rsquo;s rock solid. However, applications being applications, sometimes they become less responsive than they should (or for example, when my Synology updates itself and reboots, any mounted NFS volumes can cause the running pods to degrade in performance). This isn&rsquo;t an issue with service liveliness, which can be mitigated with a liveness probe that restarts the pod if a service isn&rsquo;t running.</div></div><div class=card-footer><a class=card-link href=https://www.definit.co.uk/2021/04/scheduling-a-restart-of-a-kubernetes-deployment-using-cronjobs/>More</a></div></div></div><div class="clr-col-12 clr-col-sm-12 clr-col-md-12 clr-col-lg-6 clr-col-xl-6"><div class=card><div class=card-header style=height:74px><a href=https://www.definit.co.uk/2020/12/automatically-adding-kubernetes-service-dns-records-to-microsoft-dns-using-coredns-and-k8s_gateway/>Automatically adding Kubernetes Service DNS records to Microsoft DNS using CoreDNS and k8s_gateway</a></div><div class=card-block><div class=card-media-block><div class="card-media-desciption clr-card-authors"><span class="card-media-title clr-card-authors"><div class=clr-card-authors><img src=/images/SamMcGeown2020.jpg alt class=img-author>Written by <a href=https://www.definit.co.uk/authors/sam-mcgeown/>Sam McGeown</a>
on 15/12/2020</div><div class=clr-card-authors>Published under <a href=/category/cloud-native>Cloud-Native</a></div></span></div></div></div><div class=card-block><div class=card-text style=max-height:200px;min-height:200px;overflow:hidden><img src=/images/logos/coredns.png class=clr-card-featured-image>
When I deploy a new service into a namespace, I need to create a new DNS record that makes it available. I&rsquo;ve previously talked about using CoreDNS to host my lab DNS zones, but this is something different. I want to make a Kubernetes Service available using an existing Microsoft DNS server - which is already used by all the clients who would need to access the service.
To do this I will create a delegated zone under my existing zone cmbu.</div></div><div class=card-footer><a class=card-link href=https://www.definit.co.uk/2020/12/automatically-adding-kubernetes-service-dns-records-to-microsoft-dns-using-coredns-and-k8s_gateway/>More</a></div></div></div><div class="clr-col-12 clr-col-sm-12 clr-col-md-12 clr-col-lg-6 clr-col-xl-6"><div class=card><div class=card-header style=height:74px><a href=https://www.definit.co.uk/2020/11/code-stream-custom-integration-generate-basic-authentication-header/>Code Stream - Custom Integration - Generate Basic Authentication Header</a></div><div class=card-block><div class=card-media-block><div class="card-media-desciption clr-card-authors"><span class="card-media-title clr-card-authors"><div class=clr-card-authors><img src=/images/SamMcGeown2020.jpg alt class=img-author>Written by <a href=https://www.definit.co.uk/authors/sam-mcgeown/>Sam McGeown</a>
on 4/11/2020</div><div class=clr-card-authors>Published under <a href=/category/vrealize-automation>vRealize Automation</a></div></span></div></div></div><div class=card-block><div class=card-text style=max-height:200px;min-height:200px;overflow:hidden><img src=/images/logos/vmware-vrealize-code-stream.png class=clr-card-featured-image>
To generate a basic authentication header from a username and password in Code Stream you could use a CI task and execute echo -n username:password | base64 in the shell then export the result for use later on. A more repeatable way is to create a Custom Integration that takes the two inputs, and returns the encoded header as an output.
To create the Custom Integration:
Create a new Custom Integration named &ldquo;Create Basic Authentication Header&rdquo; Select the Runtime - the examples below are shell and python3 respectively Replace the placeholder code with the example from below Save and version the Custom Integration, ensuring you eanble the &ldquo;Release Version&rdquo; toggle Creating the Custom Integration To use the Custom Integration in a pipeline:</div></div><div class=card-footer><a class=card-link href=https://www.definit.co.uk/2020/11/code-stream-custom-integration-generate-basic-authentication-header/>More</a></div></div></div><div class="clr-col-12 clr-col-sm-12 clr-col-md-12 clr-col-lg-6 clr-col-xl-6"><div class=card><div class=card-header style=height:74px><a href=https://www.definit.co.uk/2020/10/backing-up-tanzu-kubernetes-grid-tkg-on-vsphere-workloads-to-aws-with-velero/>Backing up Tanzu Kubernetes Grid (TKG) on vSphere Workloads to AWS with Velero</a></div><div class=card-block><div class=card-media-block><div class="card-media-desciption clr-card-authors"><span class="card-media-title clr-card-authors"><div class=clr-card-authors><img src=/images/SamMcGeown2020.jpg alt class=img-author>Written by <a href=https://www.definit.co.uk/authors/sam-mcgeown/>Sam McGeown</a>
on 7/10/2020</div><div class=clr-card-authors>Published under <a href=/category/cloud-native>Cloud-Native</a> and <a href=/category/vmware>VMware</a></div></span></div></div></div><div class=card-block><div class=card-text style=max-height:200px;min-height:200px;overflow:hidden><img src=/images/logos/velero.png class=clr-card-featured-image>
As more services go live on my Kubernetes clusters and more people start relying on them, I get nervous. For the most part, I try and keep my applications and configurations stateless - relying on ConfigMaps for example to store application configuration. This means with a handful of YAML files in my Git repository I can restore everything to working order. Sometimes though, there&rsquo;s no choice but to use a PersistentVolume to provide some data persistance where you can&rsquo;t capture it in a config file.</div></div><div class=card-footer><a class=card-link href=https://www.definit.co.uk/2020/10/backing-up-tanzu-kubernetes-grid-tkg-on-vsphere-workloads-to-aws-with-velero/>More</a></div></div></div></div><nav><ul class=pagination><li class="pagination__item pagination__item--current"><a href=/authors/sam-mcgeown/ class="btn btn-sm btn btn-primary">1</a></li><li class=pagination__item><a href=/authors/sam-mcgeown/page/2/ class="btn btn-sm btn btn-outline">2</a></li><li class=pagination__item><a href=/authors/sam-mcgeown/page/3/ class="btn btn-sm btn btn-outline">3</a></li><li class=pagination__item><a href=/authors/sam-mcgeown/page/4/ class="btn btn-sm btn btn-outline">4</a></li><li class=pagination__item><a href=/authors/sam-mcgeown/page/5/ class="btn btn-sm btn btn-outline">5</a></li><li class="pagination__item pagination__item--next"><a href=/authors/sam-mcgeown/page/2/ class="btn btn-sm btn-outline">...</a></li><li class="pagination__item pagination__item--last"><a class="btn btn-sm btn btn-outline" href=/authors/sam-mcgeown/page/33/>33</a></li></ul></nav></div><div class=content-area></div><script async src="https://www.googletagmanager.com/gtag/js?id=UA-4368767-1"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-4368767-1")</script><script src=/js/lightbox-plus-jquery.min.js></script></div></body></html>