<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>vSphere on DefinIT</title><link>https://www.definit.co.uk/category/vsphere/</link><description>Recent content in vSphere on DefinIT</description><generator>Hugo -- gohugo.io</generator><language>en-gb</language><lastBuildDate>Sat, 06 Nov 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://www.definit.co.uk/category/vsphere/index.xml" rel="self" type="application/rss+xml"/><item><title>VMware Validated Designs are discontinued - Long live VMware Validated Solutions</title><link>https://www.definit.co.uk/2021/11/vmware-validated-designs-are-discontinued-long-live-vmware-validated-solutions/</link><pubDate>Sat, 06 Nov 2021 00:00:00 +0000</pubDate><guid>https://www.definit.co.uk/2021/11/vmware-validated-designs-are-discontinued-long-live-vmware-validated-solutions/</guid><description>If you have spent any time designing IT soutions with VMware products you will very likely have come into contact with VMware Validated Designs (VVD)
VMware Validated Design is a family of solutions for data center designs that span compute, storage, networking, and management, serving as a blueprint for your Software-Defined Data Center (SDDC) implementation. The documentation of VMware Validated Design consists of succeeding deliverables for all stages of the SDDC life cycle.</description></item><item><title>VMware Certified Professional - Data Center Virtualization 2021 Exam Experience</title><link>https://www.definit.co.uk/2021/11/vmware-certified-professional-data-center-virtualization-2021-exam-experience/</link><pubDate>Tue, 02 Nov 2021 00:00:00 +0000</pubDate><guid>https://www.definit.co.uk/2021/11/vmware-certified-professional-data-center-virtualization-2021-exam-experience/</guid><description>Having not sat any VMware exams recently (MSC exam not including) I had to update my VMware certification status and therefore sit the VCP exam.
The VCP-DCV 2021 certification validates candidate skills to implement, manage, and troubleshoot a vSphere infrastructure, using best practices to provide a powerful, flexible, and secure foundation for business agility that can accelerate the transformation to cloud computing.
The Exam The exam covers a broad spectrum of vSphere components as you would expect.</description></item><item><title>VMware Cloud Foundation - Deployment Observations</title><link>https://www.definit.co.uk/2019/07/vmware-cloud-foundation-deployment-observations/</link><pubDate>Mon, 29 Jul 2019 00:00:00 +0000</pubDate><guid>https://www.definit.co.uk/2019/07/vmware-cloud-foundation-deployment-observations/</guid><description>I have been working with VMware Cloud Foundation recently and while for the most part things went well there were occasions where challenges were encountered which made the delivery to the customer all the more trickier than expected.
This article is a list of observations and things to most definitely check or watch out for when delivering a VCF project.
We were working with VCF version 3.7.2 (yes I am aware 3.</description></item><item><title>Configuring Update Manager Download Service 6.7 on CentOS/RHEL 7 with SSL certificates</title><link>https://www.definit.co.uk/2019/03/configuring-update-manager-download-service-6-7-on-centos-rhel-7-with-ssl-certificates/</link><pubDate>Thu, 14 Mar 2019 15:47:15 +0000</pubDate><guid>https://www.definit.co.uk/2019/03/configuring-update-manager-download-service-6-7-on-centos-rhel-7-with-ssl-certificates/</guid><description>Most vSphere admins are more than comfortable with using Update Manager to download patches and update their environment, but few that I talk to actually know a huge amount about the Update Mangaer Download Service (UMDS). UMDS is tool you can install to download patches (and third party VIBs - I&amp;rsquo;ll get to that) for Update Manager and it&amp;rsquo;s useful for environments that don&amp;rsquo;t have access to the internet, or air-gapped, and also for environments with multiple vCenter Servers where you don&amp;rsquo;t necessarily want to download the same patch on every server.</description></item><item><title>Enable vCenter High Availability with vRealize Orchestrator</title><link>https://www.definit.co.uk/2018/09/enable-vcenter-high-availability-with-vrealize-orchestrator/</link><pubDate>Fri, 21 Sep 2018 11:45:32 +0000</pubDate><guid>https://www.definit.co.uk/2018/09/enable-vcenter-high-availability-with-vrealize-orchestrator/</guid><description>Just a quick post today to cover a new vRO action and workflow I’ve uploaded to GitHub that configures vCenter High Availability in the basic mode. This is based on William Lam’s excellent PowerShell module that does the same, but using vRO. I also hope to release a version for the advanced mode based on my PowerShell script in the near future.
TL;DR - package is availabile on GitHub
The workflow itself is pretty self explanatory, with my deployment action, which returns a VC:Task, and the standard “wait for a task to end” action.</description></item><item><title>NST-T 2.0 Lab Build: Logical Router Configuration</title><link>https://www.definit.co.uk/2017/12/nst-t-2-0-lab-build-logical-router-config/</link><pubDate>Tue, 19 Dec 2017 14:48:29 +0000</pubDate><guid>https://www.definit.co.uk/2017/12/nst-t-2-0-lab-build-logical-router-config/</guid><description>Disclaimer! I am learning NSX-T, part of my learning is to deploy in my lab - if I contradict the official docs then go with the docs!
Lab Environment This NSX-T lab environment is built as a nested lab on my physical hosts. There are four physical ESXi hosts, onto which I will deploy three ESXi VMs, a vCenter Server Appliance, NSX Manager, an NSX Controller cluster, and two NSX Edge Nodes.</description></item><item><title>NSX-T 2.0 Lab Build: Transport Zones and Transport Nodes</title><link>https://www.definit.co.uk/2017/10/nsx-t-2-0-lab-build-transport-zones-and-transport-nodes/</link><pubDate>Mon, 23 Oct 2017 21:17:27 +0000</pubDate><guid>https://www.definit.co.uk/2017/10/nsx-t-2-0-lab-build-transport-zones-and-transport-nodes/</guid><description>Disclaimer! I am learning NSX-T, part of my learning is to deploy in my lab - if I contradict the official docs then go with the docs!
Lab Environment This NSX-T lab environment is built as a nested lab on my physical hosts. There are four physical ESXi hosts, onto which I will deploy three ESXi VMs, a vCenter Server Appliance, NSX Manager, an NSX Controller cluster, and two NSX Edge Nodes.</description></item><item><title>NSX-T 2.0 Lab Build: ESXi Host Preparation</title><link>https://www.definit.co.uk/2017/09/nsx-t-2-0-lab-build-esxi-host-preparation/</link><pubDate>Tue, 26 Sep 2017 15:16:13 +0000</pubDate><guid>https://www.definit.co.uk/2017/09/nsx-t-2-0-lab-build-esxi-host-preparation/</guid><description>Disclaimer! I am learning NSX-T, part of my learning is to deploy in my lab - if I contradict the official docs then go with the docs!
Lab Environment This NSX-T lab environment is built as a nested lab on my physical hosts. There are four physical ESXi hosts, onto which I will deploy three ESXi VMs, a vCenter Server Appliance, NSX Manager, an NSX Controller cluster, and two NSX Edge Nodes.</description></item><item><title>NSX-T 2.0 Lab Build: Deploying Controller Cluster</title><link>https://www.definit.co.uk/2017/09/nsx-t-2-0-lab-build-deploying-controller-cluster/</link><pubDate>Tue, 26 Sep 2017 12:13:15 +0000</pubDate><guid>https://www.definit.co.uk/2017/09/nsx-t-2-0-lab-build-deploying-controller-cluster/</guid><description>Disclaimer! I am learning NSX-T, part of my learning is to deploy in my lab - if I contradict the official docs then go with the docs!
Lab Environment This NSX-T lab environment is built as a nested lab on my physical hosts. There are four physical ESXi hosts, onto which I will deploy three ESXi VMs, a vCenter Server Appliance, NSX Manager, an NSX Controller cluster, and two NSX Edge Nodes.</description></item><item><title>NSX-T 2.0 Lab Build: Deploying NSX Manager</title><link>https://www.definit.co.uk/2017/09/nsx-t-2-0-lab-build-deploying-nsx-manager/</link><pubDate>Fri, 22 Sep 2017 13:42:14 +0000</pubDate><guid>https://www.definit.co.uk/2017/09/nsx-t-2-0-lab-build-deploying-nsx-manager/</guid><description>Disclaimer! I am learning NSX-T, part of my learning is to deploy in my lab - if I contradict the official docs then go with the docs!
Lab Environment This NSX-T lab environment is built as a nested lab on my physical hosts. There are four physical ESXi hosts, onto which I will deploy three ESXi VMs, a vCenter Server Appliance, NSX Manager, an NSX Controller cluster, and two NSX Edge Nodes.</description></item><item><title>Book Review: VMware vSphere 6.5 Host Resources Deep Dive</title><link>https://www.definit.co.uk/2017/07/book-review-vmware-vsphere-6-5-host-resources-deep-dive/</link><pubDate>Mon, 03 Jul 2017 14:36:20 +0000</pubDate><guid>https://www.definit.co.uk/2017/07/book-review-vmware-vsphere-6-5-host-resources-deep-dive/</guid><description>The Host Resources Deep Dive book by Frank Denneman and Niels Hagoort has been one of the most widely anticipated books in the VMware community - previous deep dive books by Frank (co-authored with Duncan Epping), tantalising blog posts and captivating presentations have whet the appetite for the last year or so. Having sat through some of these presentations at VMUGs and VMworld I can tell you the depth and understanding that the authors bring to the table is immense.</description></item><item><title>PowerShell: Deploying vCenter High Availability in Advanced Mode</title><link>https://www.definit.co.uk/2017/06/powershell-deploying-vcenter-high-availability-in-advanced-mode/</link><pubDate>Fri, 30 Jun 2017 15:09:46 +0000</pubDate><guid>https://www.definit.co.uk/2017/06/powershell-deploying-vcenter-high-availability-in-advanced-mode/</guid><description>With the release of vSphere 6.5, VMware upped the game for vCenter High Availability (vCHA) and introduced an active/passive/witness cluster setup to provide a failover cluster for vCenter Server Appliances. The diagram below shows the architecture of the solution.
Deploying vCHA can be done in two modes - &amp;ldquo;Basic&amp;rdquo; and &amp;ldquo;Advanced&amp;rdquo;. You can use Basic mode if the vCenter you want to be HA is managing the hosts it resides on - in this scenario the wizard configures your vCenter and deploys the Passive and Witness nodes for you.</description></item><item><title>Lab notes: Upgrading vSphere 6.0 and NSX 6.2 to vSphere 6.5a and NSX 6.3</title><link>https://www.definit.co.uk/2017/02/lab-notes-upgrading-vsphere-6-0-and-nsx-6-2-to-vsphere-6-5a-and-nsx-6-3/</link><pubDate>Wed, 08 Feb 2017 14:07:29 +0000</pubDate><guid>https://www.definit.co.uk/2017/02/lab-notes-upgrading-vsphere-6-0-and-nsx-6-2-to-vsphere-6-5a-and-nsx-6-3/</guid><description>I&amp;rsquo;ve been holding off upgrading my lab to vSphere 6.5 because NSX 6.2.x doesn&amp;rsquo;t support it. With the release of NSX 6.3 and vSphere 6.5a, I can now upgrade.
The sequence of the upgrade is slightly different to the generic one published by VMware because vSphere 6.5 isn&amp;rsquo;t supported with NSX 6.2. If follows that I need to upgrade NSX to 6.3 (which supports vSphere 6.0u2) before I can upgrade vSphere to 6.</description></item><item><title>vRealize Orchestrator Workflow: shutdownVSANCluster</title><link>https://www.definit.co.uk/2016/12/vro-shutdownvsancluster/</link><pubDate>Fri, 30 Dec 2016 13:21:48 +0000</pubDate><guid>https://www.definit.co.uk/2016/12/vro-shutdownvsancluster/</guid><description>My vSphere lab is split into two halves - a low power management cluster, powered by 3 Intel NUCs, and a more hefty workload cluster powered by a Dell C6100 chassis with 3 nodes. The workload servers are noisy and power hungry so they tend to be powered off when I am not using them, and since they live in my garage, I power them on and off remotely.
To automate the process, I wanted to write an Orchestrator workflow (vRO sits on my management cluster and is therefore always on) that could safely and robustly shut down the workload cluster.</description></item><item><title>vRA7.2 and vSphere Integrated Containers</title><link>https://www.definit.co.uk/2016/12/vra7-2-and-vsphere-integrated-containers/</link><pubDate>Mon, 19 Dec 2016 15:28:40 +0000</pubDate><guid>https://www.definit.co.uk/2016/12/vra7-2-and-vsphere-integrated-containers/</guid><description>One of the cool new features released with vRealize Automation 7.2 was the integration of VMware Admiral (container management) into the product, and recently VMware made version 1 of vSphere Integrated Containers generally available (GA), so I thought it was time I started playing around with the two.
In this article I&amp;rsquo;m going to cover deploying VIC to my vSphere environment and then adding that host to the vRA 7.2 container management.</description></item><item><title>Building a vRealize Automation NSX Lab on Ravello</title><link>https://www.definit.co.uk/2015/09/building-a-vrealize-automation-nsx-lab-on-ravello/</link><pubDate>Tue, 29 Sep 2015 17:06:15 +0000</pubDate><guid>https://www.definit.co.uk/2015/09/building-a-vrealize-automation-nsx-lab-on-ravello/</guid><description>As a vExpert, I am blessed to get 1000 CPU hours access to Ravello&amp;rsquo;s awesome platform and recently I&amp;rsquo;ve been playing with the AutoLab deployments tailored for Ravello.
If you&amp;rsquo;re unfamiliar with Ravello&amp;rsquo;s offering (where have you been?!) then it&amp;rsquo;s basically a custom hypervisor (HVX) running on either AWS or Google Cloud that allows you to run nested environments on those platforms. I did say it&amp;rsquo;s awesome.
As an avid home-lab enthusiast Ravello initially felt weird, but having used it for a while I can definitely see the potential to augment, and in some cases completely replace the home lab.</description></item><item><title>Joining vSphere 6 Platform Services Controller Appliance to an Active Directory domain via the command line</title><link>https://www.definit.co.uk/2015/09/joining-vsphere-6-platform-services-controller-appliance-to-an-active-directory-domain-via-the-command-line-2/</link><pubDate>Thu, 03 Sep 2015 14:48:40 +0000</pubDate><guid>https://www.definit.co.uk/2015/09/joining-vsphere-6-platform-services-controller-appliance-to-an-active-directory-domain-via-the-command-line-2/</guid><description>With a Platform Services Controller appliance deployed as part of a vCenter Server installation, either integrated as part of the vCSA or as a separate PSC appliance, you can easily join the PSC to an Active Directory domain using the Web Client.
When you&amp;rsquo;ve deployed the PSC as the single sign on layer of a distributed vRealize Automation deployment, you don&amp;rsquo;t have the vSphere Web Client to configure it in the same way.</description></item><item><title>vSphere 6 Lab Upgrade – vCenter Server Appliance</title><link>https://www.definit.co.uk/2015/04/vsphere-6-lab-upgrade-vcenter-server-appliance/</link><pubDate>Wed, 01 Apr 2015 15:23:33 +0000</pubDate><guid>https://www.definit.co.uk/2015/04/vsphere-6-lab-upgrade-vcenter-server-appliance/</guid><description>I tested vSphere 6 quite intensively when it was in beta, but I didn&amp;rsquo;t ever upgrade my lab - basically because I need a stable environment to work on and I wasn&amp;rsquo;t sure that I could maintain that with the beta.
Now 6 has been GA a while and I have a little bit of time, I have begun the lab upgrade process. You can see a bit more about my lab hardware over on my lab page.</description></item><item><title>Slow or failed logon to VCSA 5.5 with vCOps in the environment</title><link>https://www.definit.co.uk/2014/07/slow-or-failed-logon-to-vcsa-5-5-with-vcops-in-the-environment/</link><pubDate>Tue, 01 Jul 2014 09:15:52 +0000</pubDate><guid>https://www.definit.co.uk/2014/07/slow-or-failed-logon-to-vcsa-5-5-with-vcops-in-the-environment/</guid><description>Recently I encountered this problem in a customer site whereby the logon to VCSA 5.5 would either time out, or take 3-5 minutes to actually log on.
Running a netstat on the VCSA during the attempt to logon showed there was a SYN packet sent to the vCOps appliance on port 443 that never established a connection. Another check was attempting to connect using curl &amp;lt;https://&amp;gt; –k - this would time out.</description></item><item><title>vCenter 5.5 Certificate Toolkit for Distributed Environments</title><link>https://www.definit.co.uk/2014/06/vcenter-5-5-certificate-toolkit-for-distributed-environments/</link><pubDate>Mon, 09 Jun 2014 10:50:43 +0000</pubDate><guid>https://www.definit.co.uk/2014/06/vcenter-5-5-certificate-toolkit-for-distributed-environments/</guid><description>Derek Seaman’s excellent SSL toolkit. I know that there are hours and hours of work put into this script by Derek and I want to thank him for that – it’s a massive time saver. This modification is to fit a different set of circumstances – “standing on the shoulders of giants” – and should in no way be seen as me criticising or stealing Derek’s work.
This week, while using the SSL Certificate Automation Tool and Derek’s script, I encountered a couple of things I felt could be improved for a more complex environment.</description></item><item><title>Some useful VMware related diagrams</title><link>https://www.definit.co.uk/2014/04/some-useful-vsphere-related-diagrams/</link><pubDate>Tue, 01 Apr 2014 16:09:11 +0000</pubDate><guid>https://www.definit.co.uk/2014/04/some-useful-vsphere-related-diagrams/</guid><description>One of the things that never fails to amaze me are the superb PDF diagrams I occasionally stumble upon so i thought it would be a useful idea to list some of the the ones I have found on my travels.
vSphere 6 ESXTOP quick Overview for Troubleshooting http://www.running-system.com/images/2015/04/ESXTOP_vSphere6.pdf
VMware vSphere 5 Memory Management and Monitoring diagram http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;amp;cmd=displayKC&amp;amp;externalId=2017642
Concepts and best practices in Resource Pools http://federicocinalli.com/blog/item/194-concepts-and-best-practices-in-resource-pools#.Uzre1_ldV8F
Network port diagram for vSphere 6.</description></item><item><title>Extending a vCenter Orchestrator (vCO) Workflow with ForEach &amp;ndash; Backing up all ESXi hosts in a Cluster</title><link>https://www.definit.co.uk/2014/03/extending-a-vcenter-orchestrator-vco-workflow-with-foreach-backing-up-all-esxi-hosts-in-a-cluster/</link><pubDate>Thu, 20 Mar 2014 12:38:28 +0000</pubDate><guid>https://www.definit.co.uk/2014/03/extending-a-vcenter-orchestrator-vco-workflow-with-foreach-backing-up-all-esxi-hosts-in-a-cluster/</guid><description>In my previous post Backing up ESXi 5.5 host configurations with vCenter Orchestrator (vCO) – Workflow design walkthrough I showed how to create a workflow to back up host configurations, but it was limited to one host at a time. For this post I’m going to show how to create a new workflow that calls the previous one on multiple hosts using a ForEach loop to run it against each one.</description></item><item><title>Installing VMware Site Recovery Manager (SRM) 5.5 in the Lab</title><link>https://www.definit.co.uk/2014/03/installing-vmware-site-recovery-manager-srm-5-5-in-the-lab/</link><pubDate>Thu, 06 Mar 2014 12:04:22 +0000</pubDate><guid>https://www.definit.co.uk/2014/03/installing-vmware-site-recovery-manager-srm-5-5-in-the-lab/</guid><description>I&amp;rsquo;ve been playing about with a compact SRM install in my lab - since I have limited resources and only one site I wanted to create a run-through for anyone learning SRM to be able to do it in their own lab too. I am creating two sites on the same IP subnet (pretend it&amp;rsquo;s a stretched LAN across two sites) and will be protecting a single, tiny Linux web server using vSphere Replication.</description></item><item><title>VCSA 5.5 Web Client fails to log on with &amp;ldquo;SSL certificate verification failed&amp;rdquo;</title><link>https://www.definit.co.uk/2014/03/vcsa-5-5-web-client-fails-to-log-on-with-ssl-certificate-verification-failed/</link><pubDate>Mon, 03 Mar 2014 16:13:03 +0000</pubDate><guid>https://www.definit.co.uk/2014/03/vcsa-5-5-web-client-fails-to-log-on-with-ssl-certificate-verification-failed/</guid><description>This had me scratching my head, what seemed to be a common problem wasn’t fixed by the common solution. It was actually my fault – too familiar with the product and setting things up too quickly to test.
I installed a VCSA 5.5 instance in my lab as a secondary site for some testing and during the process found I couldn’t log on to the web client – it failed with the error:</description></item><item><title>Reclaiming an SSD device from ESXi 5.5 Virtual Flash</title><link>https://www.definit.co.uk/2014/02/reclaiming-an-ssd-device-from-esxi-5-5-virtual-flash/</link><pubDate>Thu, 27 Feb 2014 14:02:51 +0000</pubDate><guid>https://www.definit.co.uk/2014/02/reclaiming-an-ssd-device-from-esxi-5-5-virtual-flash/</guid><description>After having a play with Virtual Flash and Host Caching on one of my lab hosts I wanted to re-use the SSD drive, but couldn’t seem to get vFlash to release the drive. I disabled flash usage on all VMs and disabled the Host Cache, then went to the Virtual Flash Resource Management page to click the “Remove All” button. That failed with errors:
“Host’s virtual flash resource is inaccessible.”</description></item><item><title>VMware vSphere Mobile Watchlist released</title><link>https://www.definit.co.uk/2014/02/vmware-vsphere-mobile-watchlist-released/</link><pubDate>Wed, 12 Feb 2014 23:10:50 +0000</pubDate><guid>https://www.definit.co.uk/2014/02/vmware-vsphere-mobile-watchlist-released/</guid><description>For those of you unaware VMware recently released the VMware vSphere Mobile Watchlist
What does it do?
&amp;ldquo;VMware vSphere Mobile Watchlist allows you to monitor the virtual machines you care about in your vSphere infrastructure remotely on your phone. Discover diagnostic information about any alerts on your VMs using VMware Knowledge Base Articles and the web. Remediate problems from your phone by using power operations or delegate the problem to someone on your team back at the datacenter.</description></item><item><title>Avoid SSO Admin lockout &amp;ndash; a.k.a. your first task after installing vSphere SSO</title><link>https://www.definit.co.uk/2013/11/avoid-sso-admin-lockout-a-k-a-your-first-task-after-installing-vsphere-sso/</link><pubDate>Wed, 06 Nov 2013 12:55:22 +0000</pubDate><guid>https://www.definit.co.uk/2013/11/avoid-sso-admin-lockout-a-k-a-your-first-task-after-installing-vsphere-sso/</guid><description>In my post yesterday (vexpert.me/hS) I talked about how to recover from an expired default SSO administrator password – this prompted a discussion on twitter with Anthony Spiteri (@anthonyspiteri) and Grant Orchard (@grantorchard) about the defaults for expiration and how to mitigate the risk.
The first solution is to modify the password expiration policy for SSO. I’m not advocating this necessarily – I think that expiring passwords ensure that you change them regularly and increase the overall security of your SSO solution.</description></item><item><title>SSO Admin password reset with ssopass – SslHandshakeFailed – vSphere 5.1</title><link>https://www.definit.co.uk/2013/11/sso-admin-password-reset-with-ssopass-sslhandshakefailed-vsphere-5-1/</link><pubDate>Tue, 05 Nov 2013 12:53:17 +0000</pubDate><guid>https://www.definit.co.uk/2013/11/sso-admin-password-reset-with-ssopass-sslhandshakefailed-vsphere-5-1/</guid><description>Today I found out that in vSphere 5.1 the SSO administrator account (admin@system-domain) has a password that expires after 365 days. See KB2035864:
vCenter Single Sign-On account (SSO) passwords expire after 365 days, including the password for admin@system-domain.
Awesome.
In vSphere 5.5 it gets even better – the password expires every 90 days by default! (See the vSphere 5.5 SSO documentation)
By default, vCenter Single Sign-On passwords, including the password for administrator@vsphere.</description></item><item><title>Recover ESXi Root Password using AD Authentication</title><link>https://www.definit.co.uk/2013/10/recover-esxi-root-password-using-ad-authentication/</link><pubDate>Mon, 07 Oct 2013 10:12:08 +0000</pubDate><guid>https://www.definit.co.uk/2013/10/recover-esxi-root-password-using-ad-authentication/</guid><description>Losing a root password isn’t something that happens often, but when it does it’s normally a really irritating time. I have to rotate the password of all hosts once a month for compliance, but sometimes a host drops out of the loop and the root password gets lost. Fortunately, as the vpxuser is still valid I can manage the host via vCenter - this lends itself to this little recovery process:</description></item><item><title>vSphere Security: Understanding ESXi 5.x Lockdown Mode</title><link>https://www.definit.co.uk/2013/09/vsphere-security-understanding-esxi-5-x-lockdown-mode/</link><pubDate>Thu, 26 Sep 2013 10:05:02 +0000</pubDate><guid>https://www.definit.co.uk/2013/09/vsphere-security-understanding-esxi-5-x-lockdown-mode/</guid><description>This is the first article in a series of vSphere Security articles that I have planned. The majority of this article is based on vSphere/ESXi 5.1, though I will include any 5.5 information that I find relevant.
I think lockdown mode is a feature that is rarely understood, and even more rarely used. Researching this article I’ve already encountered several different definitions that weren’t quite right. As far as I can see there are no differences between lockdown more in 5.</description></item><item><title>vSphere 5.5 – what I like from what’s new..</title><link>https://www.definit.co.uk/2013/09/vsphere-5-5-what-i-like-from-whats-new/</link><pubDate>Fri, 06 Sep 2013 16:17:50 +0000</pubDate><guid>https://www.definit.co.uk/2013/09/vsphere-5-5-what-i-like-from-whats-new/</guid><description>With vSphere 5.5 being announced at VMworld San Francisco I was very eager to see what was new and after devouring all of the great blog posts out there of the guys in attendance I wanted to summarize in my own way the aspects I think are great!
**VMDK 2TB limitation removed! (also virtual mode RDMs) ** This has to be one of the best pieces of news as it has been in the rear trying to accommodate really large VMs (changes affect both VMFS and NFS)</description></item><item><title>vSphere Basics: Correctly decommissioning a vSphere Datastore</title><link>https://www.definit.co.uk/2013/08/vsphere-basics-correctly-decommissioning-a-vsphere-datastore/</link><pubDate>Wed, 14 Aug 2013 12:04:48 +0000</pubDate><guid>https://www.definit.co.uk/2013/08/vsphere-basics-correctly-decommissioning-a-vsphere-datastore/</guid><description>You’d be surprised how many times I see datastore that’s just been un-presented from hosts rather than decommissioned correctly – in one notable case I saw a distributed switch crippled for a whole cluster because the datastore in question was being used to store the VDS configuration.
This is the process that I follow to ensure datastores are decommissioned without any issues – they need to comply with these requirements</description></item><item><title>Mid-year thoughts</title><link>https://www.definit.co.uk/2013/07/mid-year-thoughts/</link><pubDate>Wed, 31 Jul 2013 21:33:59 +0000</pubDate><guid>https://www.definit.co.uk/2013/07/mid-year-thoughts/</guid><description>It&amp;rsquo;s been a really great year so far and incredibly busy (no complaints though!)
VMware products have featured very high on my to-do list so far this year, with new hosting and DR solutions either completed or well underway. The simplicity, resilience and strength of vSphere never gets old!
I have also had the privilege to attend several London VMUG meetings all of which have been excellent! They have been superb opportunities to meet new people, put faces to Twitter names and learn more about current and forthcoming technologies orientated around visualization.</description></item><item><title>Installing VMware vSphere Update Manager Download Service and publishing via IIS</title><link>https://www.definit.co.uk/2013/06/installing-vmware-vsphere-update-manager-download-service-and-publishing-via-iis/</link><pubDate>Tue, 11 Jun 2013 15:30:49 +0000</pubDate><guid>https://www.definit.co.uk/2013/06/installing-vmware-vsphere-update-manager-download-service-and-publishing-via-iis/</guid><description>The vSphere UMDS provides a way to download patches for VMware servers that have an air-gap, or for some reason aren’t allowed to go out to the internet themselves – in my case a security policy prevented a DMZ vCenter Server from connecting to the internet directly. The solution is to use UMDS to download the updates to a 2nd server that was hosted in the DMZ and then update the vCenter Server from there.</description></item><item><title>Why secure your vSphere environment with valid SSL certificates?</title><link>https://www.definit.co.uk/2013/05/why-secure-your-vsphere-environment-with-valid-ssl-certificates/</link><pubDate>Tue, 14 May 2013 15:39:44 +0000</pubDate><guid>https://www.definit.co.uk/2013/05/why-secure-your-vsphere-environment-with-valid-ssl-certificates/</guid><description>It&amp;rsquo;s no secret that installing certificates from an internal CA is a pain in the…vCenter, but having just gone through the process of updating 3 vCenter installations with the 5-7 certificates required for each server I was asked &amp;ldquo;just why is it we need to do this again?&amp;rdquo;
Why does it require multiple certificates for my vCenter server? In short, each service requires a certificate because it could feasibly be on a server (or servers) of it&amp;rsquo;s own - take this hypothetical design - each role is hosted on it&amp;rsquo;s own VM, and there are 7 certificates required - SSO, Inventory Service, vCenter Server, Orchestrator, Web Client, Log Browser and Update Manager.</description></item><item><title>Using the VMware SSL Certificate Automation Tool with a Microsoft Certificate Authority</title><link>https://www.definit.co.uk/2013/04/using-the-vmware-ssl-certificate-automation-tool-with-a-microsoft-certificate-authority/</link><pubDate>Fri, 05 Apr 2013 14:38:57 +0000</pubDate><guid>https://www.definit.co.uk/2013/04/using-the-vmware-ssl-certificate-automation-tool-with-a-microsoft-certificate-authority/</guid><description>Updating vCenter Server certificates has always been a pain - it has only got worse with the sheer number of services that are running under vSphere 5.1 - each service requiring a unique certificate and to be installed in many complex steps.
Fortunately , with the release of the SSL Certificate Automation Tool, VMware have gone some way to reducing the headache.
Gather all the components you need OpenSSL installer: http://slproweb.</description></item><item><title>Host disk write latency errors – troubleshooting – part 2</title><link>https://www.definit.co.uk/2013/03/host-disk-write-latency-errors-troubleshooting-part-2/</link><pubDate>Fri, 15 Mar 2013 13:23:31 +0000</pubDate><guid>https://www.definit.co.uk/2013/03/host-disk-write-latency-errors-troubleshooting-part-2/</guid><description>As some of you read previously, I had been experiencing disk latency issues on our SAN and tried many initial methods to troubleshoot and understand the root cause. Due to other more pressing issues this was placed aside until we started to experience VMs being occasionaly restarted by vSphere HA as the lock had been lost on a given VMDK file. (NOT GOOD!!)
The Environment:-
3x vSphere 5.1 Hosts</description></item><item><title>PowerCLI Script to set RDM LUNs to Perennially Reserved – Fixes Slow Boot of ESXi 5.1 with MSCS RDMs</title><link>https://www.definit.co.uk/2013/03/powercli-script-to-set-rdm-luns-to-perennially-reserved-fixes-slow-boot-of-esxi-5-1-with-mscs-rdms/</link><pubDate>Wed, 06 Mar 2013 14:02:52 +0000</pubDate><guid>https://www.definit.co.uk/2013/03/powercli-script-to-set-rdm-luns-to-perennially-reserved-fixes-slow-boot-of-esxi-5-1-with-mscs-rdms/</guid><description>I&amp;rsquo;ve previously posted around this topic as part of another problem but having had to figure out the process again I think it&amp;rsquo;s worth re-posting a proper script for this. VMware KB 1016106 is snappily titled &amp;ldquo;ESXi/ESX hosts with visibility to RDM LUNs being used by MSCS nodes with RDMs may take a long time to boot or during LUN rescan&amp;rdquo; and describes the situation where booting ESXi (5.1 in my case) takes a huge amount of time to boot because it&amp;rsquo;s attempting to gain a SCSI reservation on an RDM disk used by MS Clustering Services.</description></item><item><title>VMware vCenter Linked Mode not supported through firewalls</title><link>https://www.definit.co.uk/2013/02/vmware-vcenter-linked-mode-not-supported-through-firewalls/</link><pubDate>Fri, 15 Feb 2013 15:28:55 +0000</pubDate><guid>https://www.definit.co.uk/2013/02/vmware-vcenter-linked-mode-not-supported-through-firewalls/</guid><description>This article originally started off life as a record of how I managed to get this working, as a lot of my posts do, but this time it appears I am foiled.
Last week, I had 3 vCenter Servers that appeared to be happily talking to each other in Linked Mode sharing a singe Multi-site SSO domain without any real issues. I had a single-pane-of-glass view of all 3 and I could manage them all from the one client.</description></item><item><title>Fixing the – the server fault invalidargument had no message – error message</title><link>https://www.definit.co.uk/2013/02/fixing-the-the-server-fault-invalidargument-had-no-message-error-message/</link><pubDate>Tue, 05 Feb 2013 10:55:37 +0000</pubDate><guid>https://www.definit.co.uk/2013/02/fixing-the-the-server-fault-invalidargument-had-no-message-error-message/</guid><description>Today while creating new VMs from a template I got the error &amp;ldquo;the server fault invalidargument had no message&amp;rdquo; when editing the VM settings, the settings were modified successfully but the error was present whether a change had been made or not to the settings of the VM.
A quick search of the web suggested removing said VM from the inventory and re-adding from the datastore, for many this fixed the issue but not for me.</description></item><item><title>VM Power On fails with error: cpuid.coresPerSocket must be a number between 1 and 8</title><link>https://www.definit.co.uk/2013/02/vm-power-on-fails-with-error-cpuid-corespersocket-must-be-a-number-between-1-and-8/</link><pubDate>Fri, 01 Feb 2013 11:10:30 +0000</pubDate><guid>https://www.definit.co.uk/2013/02/vm-power-on-fails-with-error-cpuid-corespersocket-must-be-a-number-between-1-and-8/</guid><description>Had a strange one after deploying an XP VM from a template today - the VM would not power on and threw the following error:
An error was received from the ESX host while powering on VM [VM name].
cpuid.coresPerSocket must be a number between 1 and 8
Digging around on google the error seemed to be related to over-allocating vCPUs (e.g. assigning 8 vCPUs on a VM with 4 physical CPU cores).</description></item><item><title>Installing the VMware Support Assistant</title><link>https://www.definit.co.uk/2013/01/installing-the-vmware-support-assistant/</link><pubDate>Fri, 25 Jan 2013 14:25:18 +0000</pubDate><guid>https://www.definit.co.uk/2013/01/installing-the-vmware-support-assistant/</guid><description>So VMware&amp;rsquo;s Support Assistant is pretty awesome and it&amp;rsquo;s free! I thought I&amp;rsquo;d do a quick run through of the installation and set up for anyone who was interested, it&amp;rsquo;s fairly straightforward and if you raise a lot of calls or have multiple calls on the go it&amp;rsquo;s a time saver!
VMware&amp;rsquo;s official page for the Support Assistant is here - https://www.vmware.com/products/datacenter-virtualization/vcenter-support-assistant/overview.html
The OVF deploy is so simple I&amp;rsquo;ve just taken screenshots:</description></item><item><title>Passed the VCP510 exam – VCP5-DV Qualified!</title><link>https://www.definit.co.uk/2012/12/passed-the-vcp510-exam-vcp5-dv-qualified/</link><pubDate>Mon, 31 Dec 2012 14:27:52 +0000</pubDate><guid>https://www.definit.co.uk/2012/12/passed-the-vcp510-exam-vcp5-dv-qualified/</guid><description>I&amp;rsquo;m very pleased to say that as of 21st December, I passed my VCP510 exam and am now VCP5 qualified! It&amp;rsquo;s something that I&amp;rsquo;ve wanted to do for a long time (since VCP3) but have never been able to get funding for the required course. My current employer sent me on the vSphere 5 Fast Track course earlier this year, so I was all set to take the exam.
My exam experience was somewhat marred by a very poor first attempt which I narrowly failed.</description></item><item><title>vCenter 5.1 Single Sign On Multi-Site error: User credentials are incorrect or empty</title><link>https://www.definit.co.uk/2012/11/vcenter-5-1-single-sign-on-multi-site-error-user-credentials-are-incorrect-or-empty/</link><pubDate>Sat, 24 Nov 2012 20:24:37 +0000</pubDate><guid>https://www.definit.co.uk/2012/11/vcenter-5-1-single-sign-on-multi-site-error-user-credentials-are-incorrect-or-empty/</guid><description>While adding an additional vCenter Server to our Multi-Site Single Sign On instance I encountered a problem as I entered the details of the existing SSO.
The error thrown was:
User credentials are incorrect or empty. Provide correct credentials.
After a couple of hours online with VMware support I took a guess at the problem. On the existing Single Sign On Configuration I have added the Active Directory domain DefinIT and in order to enable integrated authentication from the vSphere Client I moved it to the top of the list - this meant that System-Domain is no longer the default authentication domain.</description></item><item><title>VCP5 – vSphere 5 Configuration Maximums Quiz in PowerShell</title><link>https://www.definit.co.uk/2012/11/vcp5-vsphere-5-configuration-maximums-quiz-in-powershell/</link><pubDate>Thu, 22 Nov 2012 16:48:15 +0000</pubDate><guid>https://www.definit.co.uk/2012/11/vcp5-vsphere-5-configuration-maximums-quiz-in-powershell/</guid><description>I&amp;rsquo;ve been learning my vSphere 5 config maximums before my upcoming VCP5 exam, so in a supreme effort of procrastination I thought I&amp;rsquo;d write a PowerShell quiz script: here it is!
Save the QuizMe.ps1 file into a folder and then place one or more text file in the same folder containing a comma delimited set of questions and answers. Then run QuizMe.ps1!
You can choose the quiz you take (which text file it will use).</description></item><item><title>Installing VMware vSphere Single Sign On (SSO) in Multi-site Mode</title><link>https://www.definit.co.uk/2012/10/installing-vmware-vsphere-single-sign-on-sso-in-multi-site-mode/</link><pubDate>Sun, 28 Oct 2012 19:33:29 +0000</pubDate><guid>https://www.definit.co.uk/2012/10/installing-vmware-vsphere-single-sign-on-sso-in-multi-site-mode/</guid><description>VMware vSphere Single Sign On (SSO) can be installed in Multi-site mode to support local sign-on to vCenters that you want to be part of the same single sign on domain - for example, if you want to install Linked-Mode and have the advantage of a single pane of glass view, but can&amp;rsquo;t risk using a single SSO instance across the WAN. In other words, from VMware&amp;rsquo;s blog post:</description></item><item><title>Host disk write latency errors – troubleshooting</title><link>https://www.definit.co.uk/2012/10/host-disk-write-latency-errors-troubleshooting/</link><pubDate>Fri, 05 Oct 2012 11:02:06 +0000</pubDate><guid>https://www.definit.co.uk/2012/10/host-disk-write-latency-errors-troubleshooting/</guid><description>So recently we upgraded our cluster monitoring suite to it&amp;rsquo;s latest iteration (Veeam ONE), it was not long before I began to receive emails from the monitor informing me of Host disk write latency &amp;ldquo;errors&amp;rdquo; (Datastore write latency had exceeded the defined threshold in the monitor) on several of the Datastores on our SAN.
Naturally I began the process of cross referencing backup routines and any heavy I/O routines that may have been running at the time the warning messages were generated.</description></item><item><title>vCenter 5.1 – Configuring vCenter Linked Mode</title><link>https://www.definit.co.uk/2012/10/vcenter-5-1-configuring-vcenter-linked-mode/</link><pubDate>Thu, 04 Oct 2012 15:42:20 +0000</pubDate><guid>https://www.definit.co.uk/2012/10/vcenter-5-1-configuring-vcenter-linked-mode/</guid><description>One thing we have been meaning to do for a while but haven&amp;rsquo;t got round to is getting our Virtual Center Servers into &amp;ldquo;Linked&amp;rdquo; mode - essentially to provide a single pane of glass view of our entire virtual estate. One vCenter resides on the other side of our DMZ and manages hosts isolated for security purposes. I&amp;rsquo;ve created an IPSec server-to-server connection and allowed that through the firewall to secure traffic between the DMZ VC and LAN VC.</description></item><item><title>Converting vSphere Custom Attributes to Categories and Tags</title><link>https://www.definit.co.uk/2012/09/converting-vsphere-custom-attributes-to-categories-and-tags/</link><pubDate>Tue, 25 Sep 2012 09:34:57 +0000</pubDate><guid>https://www.definit.co.uk/2012/09/converting-vsphere-custom-attributes-to-categories-and-tags/</guid><description>In vSphere 5.1 &amp;ldquo;Tags&amp;rdquo; replace the old custom attributes to provide a way of adding metadata to vSphere objects. The &amp;ldquo;Tags&amp;rdquo; are organised into categories to &amp;ldquo;define how the tags can be applied to inventory objects&amp;rdquo;. The easiest way to think of the difference is that custom attributes are &amp;ldquo;free text&amp;rdquo; and the tags are statically defined properties.
There is a wizard for converting custom attributes to tags, but it can get a bit confusing and is pretty poor - let me explain.</description></item><item><title>vSphere HA agent for host [Host’s Name] has an error in [Cluster’s Name] in [Datacenter’s Name]: vSphere HA agent cannot be correctly installed or configured</title><link>https://www.definit.co.uk/2012/08/vsphere-ha-agent-for-host-hosts-name-has-an-error-in-clusters-name-in-datacenters-name-vsphere-ha-agent-cannot-be-correctly-installed-or-configured/</link><pubDate>Fri, 24 Aug 2012 10:23:05 +0000</pubDate><guid>https://www.definit.co.uk/2012/08/vsphere-ha-agent-for-host-hosts-name-has-an-error-in-clusters-name-in-datacenters-name-vsphere-ha-agent-cannot-be-correctly-installed-or-configured/</guid><description>Here&amp;rsquo;s a lesson in checking the basics! I added new ESXi 5 host to a cluster today and spent a good couple of hours troubleshooting the error:
vSphere HA agent for host [Host&amp;rsquo;s Name] has an error in [Cluster&amp;rsquo;s Name] in [Datacenter&amp;rsquo;s Name]: vSphere HA agent cannot be correctly installed or configured After a few basic checks, migrating the host in and out of the cluster and rebooting, I headed off to google and began troubleshooting.</description></item><item><title>VMware ESXi Maximum paths includes local storage</title><link>https://www.definit.co.uk/2012/08/vmware-esxi-maximum-paths-includes-local-storage/</link><pubDate>Mon, 20 Aug 2012 09:45:16 +0000</pubDate><guid>https://www.definit.co.uk/2012/08/vmware-esxi-maximum-paths-includes-local-storage/</guid><description>If you are close to the VMware ESXi storage path limit of 1024 paths per host, you may want to consider the following: local storage, including CD-ROMs, are counted in your total paths.
Simply because of the size and age of the environment, some of our production clusters have now reached the limit (including local paths) - you see this message in the logs
[2012-08-20 01:48:52.256 77C3DB90 info &amp;lsquo;ha-eventmgr&amp;rsquo;] Event 2003 : The maximum number of supported paths of 1024 has been reached.</description></item><item><title>Upgrading to ESXi 5.0 Update 1 using VMware Update Manager</title><link>https://www.definit.co.uk/2012/07/upgrading-to-esxi-5-0-update-1-using-vmware-update-manager/</link><pubDate>Thu, 19 Jul 2012 15:34:30 +0000</pubDate><guid>https://www.definit.co.uk/2012/07/upgrading-to-esxi-5-0-update-1-using-vmware-update-manager/</guid><description>I&amp;rsquo;m currently updating a very small 4-host cluster built for a specific application within our datacentre, the hosts are IBM HS22 blades. Since we have the VMware Update Manager infrastructure in place already, I downloaded the IBM ESXi 5.0 Update 2 ISO and imported it into Update Manager, created a baseline and then applied it to the cluster. I scanned the cluster with the baseline and was issued this warning for each host:</description></item><item><title>VMware vSphere – DRS only shows one host in cluster</title><link>https://www.definit.co.uk/2010/05/vmware-vsphere-drs-only-shows-one-host-in-cluster/</link><pubDate>Tue, 25 May 2010 15:54:29 +0000</pubDate><guid>https://www.definit.co.uk/2010/05/vmware-vsphere-drs-only-shows-one-host-in-cluster/</guid><description>I rebuilt an ESX host in my HA/DRS cluster today, following my build procedure to configure as per VMware best practices and internal guidelines. When the host was fully configured and up-to-date, I added it to the cluster and enabled HA and DRS. Then I went to generate some DRS recommendations to balance the load an ease off my overstretched host, but no recommendations were made.
I couldn’t manually migrate any VMs either – it was odd, because both hosts were added into the cluster, and could ping and vmkping each other from the console.</description></item><item><title>How to enable hot memory add on vSphere and ESX 4.0 after upgrade</title><link>https://www.definit.co.uk/2010/02/how-to-enable-hot-memory-add-on-vsphere-and-esx-4-0-after-upgrade/</link><pubDate>Tue, 16 Feb 2010 12:29:44 +0000</pubDate><guid>https://www.definit.co.uk/2010/02/how-to-enable-hot-memory-add-on-vsphere-and-esx-4-0-after-upgrade/</guid><description>So you’ve upgraded your ESX 3.x servers to 4.0 and you’ve upgraded your vCenter server, now you want to access the shiny new hot-add feature to upgrade some running server’s memory. Except you can’t, the feature is no-where to be seen. Something to bear in mind though, your OS needs to support hot-add, so you’ll need a Windows Enterprise or Datacenter edition.
Here’s how to enable it:
Upgrade the VM’s tools, if you haven’t already.</description></item><item><title>Migrating VMware Virtual Infrastructure 3 HA Cluster to vSphere 4 – Stage 1: vCenter Upgrade</title><link>https://www.definit.co.uk/2009/11/migrating-vmware-virtual-infrastructure-3-ha-cluster-to-vsphere-4-%E2%80%93-stage-1-vcenter-upgrade/</link><pubDate>Wed, 11 Nov 2009 17:50:00 +0000</pubDate><guid>https://www.definit.co.uk/2009/11/migrating-vmware-virtual-infrastructure-3-ha-cluster-to-vsphere-4-%E2%80%93-stage-1-vcenter-upgrade/</guid><description>I&amp;rsquo;m currently in the process of migrating a 2-host High Availability cluster of ESX 3.5u4 servers to vSphere 4. This is going to come in 3 distinct stages: Stage 1 is to upgrade VirtualCenter Server 2.5 to vCenter 4, which I am going to cover today. Stage 2 is to upgrade each host, and will be covered as I do it. Stage 3 is the upgrade of the Virtual Machines to the latest VMware Tools and then the new VM hardware.</description></item><item><title>The requested Storage VMotion would move a virtual machine’s disks without assigning the virtual machine a new home, but such a move is not supported on the source host</title><link>https://www.definit.co.uk/2009/10/the-requested-storage-vmotion-would-move-a-virtual-machines-disks-without-assigning-the-virtual-machine-a-new-home-but-such-a-move-is-not-supported-on-the-source-host/</link><pubDate>Wed, 14 Oct 2009 14:04:00 +0000</pubDate><guid>https://www.definit.co.uk/2009/10/the-requested-storage-vmotion-would-move-a-virtual-machines-disks-without-assigning-the-virtual-machine-a-new-home-but-such-a-move-is-not-supported-on-the-source-host/</guid><description>I&amp;rsquo;m migrating some hosts off of an older storage LUN, but when I drag the disk to the new Datastore with the SVMotion plug-in the job fails with the following error:
The error occurs because the virtual disk cannot be moved without moving the source files, the .vmx, .vswap etc. Simply drag the entire VM, rather than the virtual disk to the new Datastore.
If you&amp;rsquo;re trying to move a 2nd, 3rd or nth disk and you get this error, drag the entire VM as per above over to the new Datastore, once that&amp;rsquo;s completed, go back in to SVMotion and drag the whole VM across again, only this time before you apply, drag the nth disk back to the new Datastore.</description></item></channel></rss>